{"version":3,"sources":["webpack://celenganku-app/./src/scripts/components/appbar.js","webpack://celenganku-app/./src/scripts/components/sidebar.js","webpack://celenganku-app/./src/scripts/helper/jwtparser.js","webpack://celenganku-app/./src/scripts/global/endpoint.js","webpack://celenganku-app/./src/scripts/data/api-data.js","webpack://celenganku-app/./src/scripts/helper/form-validation.js"],"names":["Appbar","colorClass","this","_role","name","_name","avatar","_avatar","className","_bgColor","innerHTML","_renderLinksByRole","role","_render","HTMLElement","customElements","define","Sidebar","_renderNavsByRole","token","base64","split","replace","jsonPayload","decodeURIComponent","atob","map","c","charCodeAt","toString","slice","join","JSON","parse","SISWA","LIST","LIST_DATA","AKUN","id","DATA","PROFIL","ADMIN","fetch","response","json","JWTParser","error","message","API_ENDPOINT","responseJson","restaurants","init","formInputs","submitButton","_formInputs","_submitButton","_createEvent","undefined","length","forEach","input","_showPasswordToggle","addEventListener","event","preventDefault","_validateInput","type","passwordInputWrapper","document","createElement","parentElement","insertBefore","appendChild","passwordToggle","getElementById","passwordLabel","querySelector","focus","errorInputClasss","successInputClasss","alertElement","alertText","dataset","rule","value","push","includes","splice","indexOf","mustNumber","parseInt","equalElementValue","checkElement","classList","add","remove","nextSibling","validatedCounts","querySelectorAll","disabled"],"mappings":"44DACMA,E,mgBAiBF,IAAIC,EAAa,gBAIjB,MAHmB,UAAfC,KAAKC,QACPF,EAAa,kBAERA,I,2CAuBP,OAnBaC,KAAKC,MAIR,ghB,gCAmBV,IAAMC,EAAOF,KAAKG,MACZC,EAASJ,KAAKK,SAAL,2CAAoDH,EAApD,mBACfF,KAAKM,UAAL,UAAoBN,KAAKO,WAAzB,uHACAP,KAAKQ,UAAL,2OAG2CJ,EAH3C,kBAG2DF,EAH3D,0OAOyDA,EAPzD,6qBAgBcF,KAAKS,qBAhBnB,kE,yBAlDOC,GACPV,KAAKC,MAAQS,EACbV,KAAKW,Y,yBAGET,GACPF,KAAKG,MAAQD,EACbF,KAAKW,Y,2BAGIP,GACTJ,KAAKK,QAAUD,EACfJ,KAAKW,e,gCAbYC,cAyErBC,eAAeC,OAAO,UAAWhB,I,yzDCzE3BiB,E,mgBAOF,IAAIhB,EAAa,aAIjB,MAHmB,UAAfC,KAAKC,QACPF,EAAa,gBAERA,I,0CA+CP,MAzCa,UAFAC,KAAKC,MAIT,usCAoBA,wgD,gCAuBTD,KAAKM,UAAL,UAAoBN,KAAKO,WAAzB,0EACAP,KAAKQ,UAAL,giBAUMR,KAAKgB,oBAVX,kB,yBA9DON,GACPV,KAAKC,MAAQS,EACbV,KAAKW,e,gCAHaC,cA6EtBC,eAAeC,OAAO,WAAYC,I,2CCtElC,QARkB,SAACE,GACjB,IACMC,EADYD,EAAME,MAAM,KAAK,GACVC,QAAQ,KAAM,KAAKA,QAAQ,KAAM,KACpDC,EAAcC,mBAAmBC,KAAKL,GAAQC,MAAM,IAAIK,KAAI,SAACC,GAAD,iBAAW,YAAMA,EAAEC,WAAW,GAAGC,SAAS,KAAOC,OAAO,OAAMC,KAAK,KAErI,OAAOC,KAAKC,MAAMV,ICMpB,QAXqB,CACnBW,MAAO,CACLC,KAAM,aACNC,UAAW,iBACXC,KAAM,SAACC,GAAD,0BAAqBA,IAC3BC,KAAM,SAACD,GAAD,0BAAqBA,EAArB,UACNE,OAAQ,SAACF,GAAD,0BAAqBA,EAArB,aAEVG,MAAO,SAACH,GAAD,0BAAqBA,K,keCoE9B,Q,iWAtE6BI,MAAM,U,cAAvBC,E,gBACYA,EAASC,O,cAAvBzB,E,gBACU0B,EAAU1B,EAAMwB,U,cAA9BxB,E,yBACOA,G,2DAEA,CACLmB,GAAI,KACJ1B,KAAM,eACNkC,OAAO,EACPC,QAAS,EAAF,K,gSAOcL,MAAMM,mB,cAAvBL,E,gBACqBA,EAASC,O,cAA9BK,E,yBACCA,EAAaC,a,2DAEb,I,8RAMgBR,MAAMM,c,cAAvBL,E,yBACCA,EAASC,Q,yDAET,I,yKAIeN,G,+GAECI,MAAMM,aAAwBV,I,cAA/CK,E,yBACCA,EAASC,Q,yDAET,I,4KAIiBN,G,+GAEDI,MAAMM,eAA0BV,I,cAAjDK,E,yBACCA,EAASC,Q,yDAET,I,0KAIeN,G,+GAECI,MAAMM,aAAwBV,I,cAA/CK,E,yBACCA,EAASC,Q,yDAET,I,sKAIWN,G,+GAEKI,MAAMM,QAAmBV,I,cAA1CK,E,yBACCA,EAASC,Q,yDAET,I,ofCwFb,QA9JuB,CACfO,KADe,YACoB,yJAA5BC,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,aACvB,EAAKC,YAAcF,EACnB,EAAKG,cAAgBF,EAFkB,SAGjC,EAAKG,eAH4B,8CAMnCA,aAPe,WAOA,qJAGOC,KAFpBL,EAAa,EAAKE,aAETI,OACbN,EAAWO,SAAQ,SAACC,GAClB,EAAKC,oBAAoBD,GACzBA,EAAME,iBAAiB,SAAS,SAACC,GAC/BA,EAAMC,iBACN,EAAKC,eAAeL,UAIxB,EAAKC,oBAAoBT,GACzBA,EAAWU,iBAAiB,SAAS,SAACC,GACpCA,EAAMC,iBACN,EAAKC,eAAeb,OAfL,8CAoBfS,oBA3Be,SA2BKD,GAAO,uIACZ,aAAfA,EAAMM,QACFC,EAAuBC,SAASC,cAAc,QAC/B7D,UAAY,kBACjC2D,EAAqB7B,GAArB,UAA6BsB,EAAMtB,GAAnC,YACA6B,EAAqBzD,UAArB,6IAEkDkD,EAAMtB,GAFxD,sJAG4GsB,EAAMtB,GAHlH,kkBASAsB,EAAMU,cAAcC,aAAaJ,EAAsBP,GACvDO,EAAqBK,YAAYZ,IAE3Ba,EAAiBL,SAASM,eAAT,UAA2Bd,EAAMtB,GAAjC,aAERwB,iBAAiB,UAAU,WACxC,IAAMa,EAAgBF,EAAeH,cAAcM,cAAc,mBAC9C,aAAfhB,EAAMM,MACRN,EAAMM,KAAO,OACbS,EAAcjE,UAAd,4cAKAkD,EAAMM,KAAO,WACbS,EAAcjE,UAAd,mgBAIFkD,EAAMiB,YAjCqB,8CAsC3BZ,eAjEe,SAiEAL,GAAO,oKAoD1B,GAnDMkB,EAAmB,CAAC,iBAAkB,oBAAqB,wBAC3DC,EAAqB,CAAC,mBAAoB,oBAAqB,2BAE/DC,EAAeZ,SAASC,cAAc,SAC/B7D,UAAY,uBACzBwE,EAAa1C,GAAb,UAAqBsB,EAAMtB,GAA3B,UAEM2C,EAAY,GAEd,SAAUrB,EAAMsB,SACMtB,EAAMsB,QAAQC,KAAK9D,MAAM,KACjCsC,SAAQ,SAACwB,GACvB,GAAa,aAATA,EACkB,KAAhBvB,EAAMwB,MACRH,EAAUI,KAAV,UAAkBzB,EAAMxD,KAAxB,wBACS6E,EAAUK,SAAV,UAAsB1B,EAAMxD,KAA5B,yBACT6E,EAAUM,OAAON,EAAUO,QAAV,UAAqB5B,EAAMxD,KAA3B,wBAAuD,QAErE,GAAa,aAAT+E,EACLvB,EAAMwB,MAAMI,QAAQ,MAAQ,EAC9BP,EAAUI,KAAV,UAAkBzB,EAAMxD,KAAxB,kCACS6E,EAAUK,SAAV,UAAsB1B,EAAMxD,KAA5B,mCACT6E,EAAUM,OAAON,EAAUO,QAAV,UAAqB5B,EAAMxD,KAA3B,kCAAiE,QAE/E,GAAI+E,EAAKG,SAAS,gBAAiB,CACxC,IAAMG,EAAaC,SAASP,EAAK7D,QAAQ,eAAgB,IAAK,IAE1DsC,EAAMwB,MAAM1B,OAAS+B,GAAc7B,EAAMwB,MAAM1B,OAAS+B,EAC1DR,EAAUI,KAAV,UAAkBzB,EAAMxD,KAAxB,yBAA6CqF,EAA7C,iBACSR,EAAUK,SAAV,UAAsB1B,EAAMxD,KAA5B,4BAAoDqF,EAApD,kBACTR,EAAUM,OAAON,EAAUO,QAAV,UAAqB5B,EAAMxD,KAA3B,yBAAgDqF,EAAhD,iBAA2E,QAEzF,GAAIN,EAAKG,SAAS,SACjB1B,EAAMwB,MAAME,SAAS,MAAS1B,EAAMwB,MAAM/D,MAAM,KAAK,GAAIiE,SAAS,KAE7DL,EAAUK,SAAV,UAAsB1B,EAAMxD,KAA5B,6CACT6E,EAAUM,OAAON,EAAUO,QAAV,UAAqB5B,EAAMxD,KAA3B,4CAA2E,GAF5F6E,EAAUI,KAAV,UAAkBzB,EAAMxD,KAAxB,iDAIG,GAAI+E,EAAKG,SAAS,UAAW,CAClC,IAAMK,EAAoBvB,SAASQ,cAAT,4BAA4CO,EAAK7D,QAAQ,SAAU,IAAnE,OAEtBsC,EAAMwB,QAAUO,EAAkBP,MACpCH,EAAUI,KAAV,kCAA0CM,EAAkBvF,OACnD6E,EAAUK,SAAV,kCAA8CK,EAAkBvF,QACzE6E,EAAUM,OAAON,EAAUO,QAAV,kCAA6CG,EAAkBvF,OAAS,OAM3FwF,EAAexB,SAASM,eAAT,UAA2Bd,EAAMtB,GAAjC,WACjB2C,EAAUvB,OAAS,GACrB,EAAAE,EAAMiC,WAAUC,IAAhB,QAAuBhB,IACvB,EAAAlB,EAAMiC,WAAUE,OAAhB,QAA0BhB,QACI,IAAlBa,GAAiD,MAAhBA,EAC3CA,EAAalF,UAAYuE,EAAU,IAEnCD,EAAatE,UAAYuE,EAAU,GAEhB,aAAfrB,EAAMxD,KAERwD,EAAMU,cAAcA,cAAcC,aAAaS,EAAcpB,EAAMU,cAAc0B,aAEjFpC,EAAMU,cAAcC,aAAaS,EAAcpB,EAAMoC,mBAIzD,KACE,EAAApC,EAAMiC,WAAUE,OAAhB,QAA0BjB,IAC1B,EAAAlB,EAAMiC,WAAUC,IAAhB,QAAuBf,GACvBa,EAAaG,SACb,MAAOjD,IAKLmD,EAAkB7B,SAAS8B,iBAAiB,+BAElBzC,IAA5B,EAAKH,YAAYI,OACfuC,EAAgBvC,SAAW,EAAKJ,YAAYI,OAC9C,EAAKH,cAAc4C,UAAW,EAE9B,EAAK5C,cAAc4C,UAAW,GAEvB,IAAK7C,YAAY9C,WAAU8E,SAA3B,QAAuCP,GAChD,EAAKxB,cAAc4C,UAAW,EAE9B,EAAK5C,cAAc4C,UAAW,EAxFN","file":"main.49ea73a0.js","sourcesContent":["/* eslint-disable class-methods-use-this */\nclass Appbar extends HTMLElement {\n  set role(role) {\n    this._role = role\n    this._render()\n  }\n\n  set name(name) {\n    this._name = name\n    this._render()\n  }\n\n  set avatar(avatar) {\n    this._avatar = avatar\n    this._render()\n  }\n\n  _bgColor() {\n    let colorClass = 'md:bg-primary'\n    if (this._role === 'admin') {\n      colorClass = 'md:bg-blue-500'\n    }\n    return colorClass\n  }\n\n  _renderLinksByRole() {\n    const role = this._role\n    let links = ''\n    if (role === 'admin') {\n      // Admin navs\n      links = `\n        <a href=\"#/profile\" class=\"block px-4 py-3 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900\" role=\"menuitem\">Edit Profil</a>\n        <a href=\"#/help\" class=\"block px-4 py-3 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900\" role=\"menuitem\">Bantuan</a>\n          <a href=\"/logout\" class=\"block w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 focus:outline-none focus:bg-gray-100 focus:text-gray-900\" role=\"menuitem\">\n            Keluar\n          </a>`\n    } else {\n      // User/Siswa Navs\n      links = `\n        <a href=\"#/profile\" class=\"block px-4 py-3 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900\" role=\"menuitem\">Edit Profil</a>\n        <a href=\"#/help\" class=\"block px-4 py-3 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900\" role=\"menuitem\">Bantuan</a>\n          <a href=\"/logout\" class=\"block w-full text-left px-4 py-3 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900 focus:outline-none focus:bg-gray-100 focus:text-gray-900\" role=\"menuitem\">\n            Keluar\n          </a>`\n    }\n    return links\n  }\n\n  _render() {\n    const name = this._name\n    const avatar = this._avatar || `https://ui-avatars.com/api/?name=${name}&background=fff`\n    this.className = `${this._bgColor()} sticky top-0 bg-white rounded-b-lg flex flex-wrap items-center md:rounded-bl-none md:h-16 pt-2 pb-2 md:justify-end`\n    this.innerHTML = `\n          <div class=\"flex w-full p-4 md:p-0 md:w-auto\">\n            <div class=\"flex relative w-10 h-10 justify-center items-center m-1 mr-2 text-xl rounded-full text-white\">\n              <img class=\"rounded-full\" src=\"${avatar}\" alt=\"${name} Photo Profile\">\n            </div>\n            <div class=\"flex flex-col leading-tight mt-1 md:text-white px-1\">\n              <p class=\"font-light\">Halo,</p>\n              <p class=\"font-light\" id=\"greeting-username\">${name}</p>\n            </div>\n            <button id=\"settings\" class=\"h-12 w-12 p-3 mr-3 md:text-white ml-auto md:ml-0\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\" />\n              </svg>\n            </button>\n            <div id=\"settings-dropdown\" class=\"hidden origin-top-right absolute right-0 mt-10 mr-5 w-56 rounded-lg shadow-lg bg-white ring-1 ring-black ring-opacity-5\">\n              <div class=\"py-1\" role=\"menu\" aria-orientation=\"vertical\" aria-labelledby=\"options-menu\">\n                ${this._renderLinksByRole()}\n              </div>\n            </div>\n          </div>`\n  }\n}\ncustomElements.define('app-bar', Appbar)\n","/* eslint-disable class-methods-use-this */\nclass Sidebar extends HTMLElement {\n  set role(role) {\n    this._role = role\n    this._render()\n  }\n\n  _bgColor() {\n    let colorClass = 'bg-primary'\n    if (this._role === 'admin') {\n      colorClass = 'bg-secondary'\n    }\n    return colorClass\n  }\n\n  _renderNavsByRole() {\n    const role = this._role\n    let navs = ''\n    if (role === 'admin') {\n      // Admin navs\n      navs = `<a class=\"btn-nav rounded-b-lg md:rounded-none md:rounded-l-lg\" href=\"#/admin\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" \n                d=\"M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n            </svg>\n        </a>\n        <a class=\"btn-nav rounded-b-lg md:rounded-none md:rounded-l-lg\" href=\"#/admin/pay\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n              d=\"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z\" />\n          </svg>\n        </a>\n        <a class=\"btn-nav rounded-b-lg md:rounded-none md:rounded-l-lg\" href=\"#/admin/data\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n              d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n          </svg>\n        </a>`\n    } else {\n      // User/Siswa Navs\n      navs = `\n        <a class=\"btn-nav rounded-b-lg md:rounded-none md:rounded-l-lg\" href=\"#\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z\" />\n        </svg>\n        </a>\n        <a class=\"btn-nav rounded-b-lg md:rounded-none md:rounded-l-lg\" href=\"#/pay\">\n        <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"></path></svg>\n        </a>\n        <a class=\"btn-nav rounded-b-lg md:rounded-none md:rounded-l-lg\" href=\"#/profile\">\n          <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"></path></svg>\n        </a>\n        <a class=\"btn-nav rounded-b-lg md:rounded-none md:rounded-l-lg\" href=\"#/profile\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n              d=\"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z\" />\n          </svg>\n        </a>`\n    }\n    return navs\n  }\n\n  _render() {\n    this.className = `${this._bgColor()} fixed bottom-0 w-full md:relative md:w-auto md:h-auto md:min-h-screen`\n    this.innerHTML = `\n    <div id=\"navs\" class=\"sticky top-0 flex flex-row justify-evenly md:flex-col\">\n        <p class=\"h-16 w-16 p-4 text-white\">\n            <img src=\"./images/app-icon.png\">\n            <g stroke=\"null\">\n                <ellipse stroke=\"#000\" ry=\"4.54353\" rx=\"4.54353\" id=\"svg_2\" cy=\"12\" cx=\"5.51189\" stroke-width=\"0\" fill=\"#ffffff\"/>\n                <ellipse stroke=\"#000\" ry=\"4.54353\" rx=\"4.54353\" id=\"svg_3\" cy=\"12\" cx=\"18.48811\" stroke-width=\"0\" fill=\"#ffffff\"/>\n            </g>\n            </svg>\n        </p>\n        ${this._renderNavsByRole()}\n    </div>`\n  }\n}\ncustomElements.define('side-bar', Sidebar)\n","const JWTParser = (token) => {\n  const base64Url = token.split('.')[1]\n  const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/')\n  const jsonPayload = decodeURIComponent(atob(base64).split('').map((c) => `%${(`00${c.charCodeAt(0).toString(16)}`).slice(-2)}`).join(''))\n\n  return JSON.parse(jsonPayload)\n}\n\nexport default JWTParser\n","const API_ENDPOINT = {\n  SISWA: {\n    LIST: 'api/siswa/',\n    LIST_DATA: 'api/siswa/data',\n    AKUN: (id) => `api/siswa/${id}`,\n    DATA: (id) => `api/siswa/${id}/data`,\n    PROFIL: (id) => `api/siswa/${id}/profil`,\n  },\n  ADMIN: (id) => `api/admin/${id}`,\n}\n\nexport default API_ENDPOINT\n","import JWTParser from '../helper/jwtparser'\nimport API_ENDPOINT from '../global/endpoint'\n\nclass APIData {\n  static async retrieveUser() {\n    try {\n      const response = await fetch('/token')\n      let token = await response.json()\n      token = await JWTParser(token.response)\n      return token\n    } catch (error) {\n      return {\n        id: null,\n        role: 'unauthorized',\n        error: true,\n        message: error,\n      }\n    }\n  }\n\n  static async getAllSiswaData() {\n    try {\n      const response = await fetch(API_ENDPOINT.SISWA.LIST_DATA)\n      const responseJson = await response.json()\n      return responseJson.restaurants\n    } catch (err) {\n      return {}\n    }\n  }\n\n  static async getAllAkunSiswa() {\n    try {\n      const response = await fetch(API_ENDPOINT.SISWA.LIST)\n      return response.json()\n    } catch (err) {\n      return {}\n    }\n  }\n\n  static async getDataSiswa(id) {\n    try {\n      const response = await fetch(API_ENDPOINT.SISWA.DATA(id))\n      return response.json()\n    } catch (err) {\n      return {}\n    }\n  }\n\n  static async getProfilSiswa(id) {\n    try {\n      const response = await fetch(API_ENDPOINT.SISWA.PROFIL(id))\n      return response.json()\n    } catch (err) {\n      return {}\n    }\n  }\n\n  static async getAkunSiswa(id) {\n    try {\n      const response = await fetch(API_ENDPOINT.SISWA.AKUN(id))\n      return response.json()\n    } catch (err) {\n      return {}\n    }\n  }\n\n  static async getAdmin(id) {\n    try {\n      const response = await fetch(API_ENDPOINT.ADMIN(id))\n      return response.json()\n    } catch (err) {\n      return {}\n    }\n  }\n}\n\nexport default APIData\n","/* eslint-disable prefer-destructuring */\nconst formValidation = {\n  async init({ formInputs, submitButton }) {\n    this._formInputs = formInputs\n    this._submitButton = submitButton\n    await this._createEvent()\n  },\n\n  async _createEvent() {\n    const formInputs = this._formInputs\n\n    if (formInputs.length !== undefined) {\n      formInputs.forEach((input) => {\n        this._showPasswordToggle(input)\n        input.addEventListener('keyup', (event) => {\n          event.preventDefault()\n          this._validateInput(input)\n        })\n      })\n    } else {\n      this._showPasswordToggle(formInputs)\n      formInputs.addEventListener('keyup', (event) => {\n        event.preventDefault()\n        this._validateInput(formInputs)\n      })\n    }\n  },\n\n  async _showPasswordToggle(input) {\n    if (input.type === 'password') {\n      const passwordInputWrapper = document.createElement('div')\n      passwordInputWrapper.className = 'relative w-full'\n      passwordInputWrapper.id = `${input.id}-wrapper`\n      passwordInputWrapper.innerHTML = `\n          <div class=\"absolute inset-y-0 right-0 flex items-center px-2\">\n            <input class=\"hidden password-toggle\" id=\"${input.id}-toggle\" type=\"checkbox\">\n            <label class=\"rounded px-2 py-1 text-sm text-gray-600 font-mono cursor-pointer password-label\" for=\"${input.id}-toggle\">\n            <svg class=\"w-8 h-8\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\" />\n        </svg>\n            </label>\n          </div>`\n      input.parentElement.insertBefore(passwordInputWrapper, input)\n      passwordInputWrapper.appendChild(input)\n\n      const passwordToggle = document.getElementById(`${input.id}-toggle`)\n\n      passwordToggle.addEventListener('change', () => {\n        const passwordLabel = passwordToggle.parentElement.querySelector('.password-label')\n        if (input.type === 'password') {\n          input.type = 'text'\n          passwordLabel.innerHTML = `<svg class=\"w-8 h-8\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" />\n        </svg>`\n        } else {\n          input.type = 'password'\n          passwordLabel.innerHTML = `<svg class=\"w-8 h-8\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21\" />\n        </svg>`\n        }\n        input.focus()\n      })\n    }\n  },\n\n  async _validateInput(input) {\n    const errorInputClasss = ['border-red-500', 'border-opacity-50', 'focus:border-red-500']\n    const successInputClasss = ['border-green-500', 'border-opacity-50', 'focus:border-green-500']\n\n    const alertElement = document.createElement('span')\n    alertElement.className = 'text-sm text-red-500'\n    alertElement.id = `${input.id}-alert`\n\n    const alertText = []\n\n    if ('rule' in input.dataset) {\n      const validationRules = input.dataset.rule.split(' ')\n      validationRules.forEach((rule) => {\n        if (rule === 'required') {\n          if (input.value === '') {\n            alertText.push(`${input.name} tidak boleh kosong`)\n          } else if (alertText.includes(`${input.name} tidak boleh kosong`)) {\n            alertText.splice(alertText.indexOf(`${input.name} tidak boleh kosong`), 1)\n          }\n        } else if (rule === 'no-space') {\n          if (input.value.indexOf(' ') >= 0) {\n            alertText.push(`${input.name} tidak boleh mengandung spasi`)\n          } else if (alertText.includes(`${input.name} tidak boleh mengandung spasi`)) {\n            alertText.splice(alertText.indexOf(`${input.name} tidak boleh mengandung spasi`), 1)\n          }\n        } else if (rule.includes('number-must-')) {\n          const mustNumber = parseInt(rule.replace('number-must-', ''), 10)\n\n          if (input.value.length < mustNumber || input.value.length > mustNumber) {\n            alertText.push(`${input.name} harus berisi ${mustNumber} digit angka`)\n          } else if (alertText.includes(`${input.name} harus berisikan ${mustNumber} digit angka`)) {\n            alertText.splice(alertText.indexOf(`${input.name} harus berisi ${mustNumber} digit angka`), 1)\n          }\n        } else if (rule.includes('email')) {\n          if (!(input.value.includes('@') && (input.value.split('@')[1]).includes('.'))) {\n            alertText.push(`${input.name} harus berisikan format: your@email.com`)\n          } else if (alertText.includes(`${input.name} harus berisikan format: your@email.com`)) {\n            alertText.splice(alertText.indexOf(`${input.name} harus berisikan format: your@email.com`), 1)\n          }\n        } else if (rule.includes('equal-')) {\n          const equalElementValue = document.querySelector(`input[data-equal=\"${rule.replace('equal-', '')}\"]`)\n\n          if (input.value !== equalElementValue.value) {\n            alertText.push(`Input harus sama dengan ${equalElementValue.name}`)\n          } else if (alertText.includes(`Input harus sama dengan ${equalElementValue.name}`)) {\n            alertText.splice(alertText.indexOf(`Input harus sama dengan ${equalElementValue.name}`), 1)\n          }\n        }\n      })\n    }\n\n    const checkElement = document.getElementById(`${input.id}-alert`)\n    if (alertText.length > 0) {\n      input.classList.add(...errorInputClasss)\n      input.classList.remove(...successInputClasss)\n      if (typeof (checkElement) !== 'undefined' && checkElement != null) {\n        checkElement.innerHTML = alertText[0]\n      } else {\n        alertElement.innerHTML = alertText[0]\n\n        if (input.name === 'Password') {\n          // eslint-disable-next-line max-len\n          input.parentElement.parentElement.insertBefore(alertElement, input.parentElement.nextSibling)\n        } else {\n          input.parentElement.insertBefore(alertElement, input.nextSibling)\n        }\n      }\n    } else {\n      try {\n        input.classList.remove(...errorInputClasss)\n        input.classList.add(...successInputClasss)\n        checkElement.remove()\n      } catch (error) {\n        // return null\n      }\n    }\n\n    const validatedCounts = document.querySelectorAll('input.border-green-500')\n\n    if (this._formInputs.length !== undefined) {\n      if (validatedCounts.length === this._formInputs.length) {\n        this._submitButton.disabled = false\n      } else {\n        this._submitButton.disabled = true\n      }\n    } else if (this._formInputs.className.includes(...successInputClasss)) {\n      this._submitButton.disabled = false\n    } else {\n      this._submitButton.disabled = true\n    }\n  },\n}\n\nexport default formValidation\n"],"sourceRoot":""}