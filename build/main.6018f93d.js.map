{"version":3,"sources":["webpack://celenganku-app/./src/scripts/views/pages/user/dashboard.js","webpack://celenganku-app/./src/scripts/views/pages/user/profile.js"],"names":["Dashboard","render","afterRender","preloaders","document","querySelectorAll","balanceCard","getElementById","depositCard","withdrawCard","_ballance","_deposit","_weeklyDeposit","_withdraw","_weeklyWithdraw","APIData","responseData","_userId","id","accountData","saldo","balanceText","withdrawText","weekWithdrawText","depositText","weekDepositText","innerHTML","StringFormater","_renderTable","classList","remove","forEach","preloader","tableElement","tableBody","querySelector","unsortedTransactionData","transactionData","sortBy","data","reverse","transactionTemplate","transaction","Object","keys","key","toString","toUpperCase","timeStamp","Date","tenggat_waktu_pembayaran","seconds","jenisTransaksi","jenis_transaksi","timeLeft","setDate","getDate","transactionDate","toLocaleDateString","year","month","day","transactionDateMini","status_transaksi","toLowerCase","getMonth","nominal","DateFormater","nominalColor","jenis","statusColor","status","renderStatusIcon","getStatusAction","id_transaksi","_cancelButtonInit","cancelButton","addEventListener","event","stopPropagation","Swal","icon","text","title","showCancelButton","confirmButtonText","cancelButtonText","showLoaderOnConfirm","preConfirm","customClass","popup","confirmButton","buttonsStyling","result","isConfirmed","_showTransactionModalInit","showButton","nisn","dataSiswa","metode_pembayaran","snap","pay","token","onSuccess","console","log","response","window","dispatchEvent","HashChangeEvent","onPending","onClose","ModalInitializer","content","nama","modal","modalContent","thisContent","qrContent","showQRButton","closeButton","copyButton","copyText","EventHelper","focus","delayTime","setInterval","distance","hours","minutes","counterText","counterReminder","reminderElement","className","initialized","Profile","_accountInput","_profileInput","_getProfileData","user","allInputForms","photoProfile","input","inputValue","replace","value","src","url_foto","_initialize","profileForm","accountForm","editButton","discardButton","newPhoto","photoContainer","deletePhotoButton","photoUploadButton","editableForm","email","password","nomorTelepon","photoProfileTemp","emailTemp","passwordTemp","nomorTeleponTemp","includes","disabled","toggleEditable","option","add","_updateProfile","elementAlerts","length","element","target","files","reader","FileReader","name","onload","e","readAsDataURL","formValidation","formInputs","submitButton","isEdit","profileDataArray","push","profileData","assign","noTelepon","newData","no_telepon","photo","url"],"mappings":"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","file":"main.6018f93d.js","sourcesContent":["/* eslint-disable no-undef */\n/* eslint-disable max-len */\n/* eslint-disable no-restricted-syntax */\nimport sortBy from 'lodash/sortBy'\nimport Swal from 'sweetalert2'\nimport StringFormater from '../../../helper/string-formater'\nimport DateFormater from '../../../helper/date-formater'\nimport APIData from '../../../data/api-data'\nimport ModalInitializer from '../../../utils/modal-initializer'\nimport EventHelper from '../../../helper/event-helper'\n\nconst Dashboard = {\n  async render() {\n    return /* html */ `\n    <div class=\"p-4 pt-0 md:p-8 md:pt=8 lg:p-12 lg:pt-12 h-full\">\n      <div class=\"flex flex-col h-full mb-20 md:mb-0 md:max-w-screen-md lg:max-w-screen-xl mx-auto\">\n        <div class=\"text-center\">\n          <p class=\"text-xl leading-8 font-bold tracking-tight text-gray-800 md:text-2xl md:mt-2\">\n            Celenganku\n          </p>\n        </div>\n\n        <div class=\"flex flex-col\">\n          <div class=\"bg-gray-200 gap-4 p-5 rounded-lg flex flex-wrap flex-col mt-4 md:p-8 md:gap-8 md:mt-6 md:flex-row\">\n            <div class=\"flex-grow-1 flex-auto lg:flex-1 p-5 bg-primary rounded-lg shadow-primary\">\n              <div class=\"flex items-center\">\n\n                <div class=\"preloader p-4 flex mt-auto mb-auto ml-auto mr-auto\">\n                  <div class=\"loader loader-mini ease-linear rounded-full border-8 border-t-8 border-gray-200\"></div>\n                </div>\n\n                <div id=\"balance-card\" class=\"hidden text-white flex flex-col flex-1\">\n                  <p class=\"-mb-2\">Saldo</p>\n                  <p id=\"bal\" class=\"text-4xl md:text-2xl lg:text-4xl font-bold\">Rp</p>\n                  <div class=\"flex flex-row gap-2 mt-4\">\n                    <a href=\"#/transaction\" class=\"w-10 h-10 p-1 bg-primaryLight text-primary font-light rounded-lg\">\n                      <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                          d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"></path>\n                      </svg>\n                    </a>\n                    <a href=\"#/report\" class=\"w-10 h-10 p-1 bg-primaryLight text-primary font-light rounded-lg\">\n                      <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                          d=\"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\">\n                        </path>\n                      </svg>\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"flex-grow-1 flex-auto lg:flex-1 p-5 bg-white rounded-lg shadow-lg\">\n              <div class=\"flex items-center\">\n\n                <div class=\"preloader p-4 flex mt-auto mb-auto ml-auto mr-auto\">\n                  <div class=\"loader loader-mini ease-linear rounded-full border-8 border-t-8 border-gray-200\"></div>\n                </div>\n\n                <div id=\"deposit-card\" class=\"hidden flex flex-col flex-1\">\n                  <p class=\"-mb-2 text-gray-700\">Pemasukan Bulan ini</p>\n                  <p id=\"monthly-withdraw\" class=\"text-gray-800 text-4xl md:text-2xl lg:text-4xl font-bold\">Rp 800.000</p>\n                  <p id=\"weekly-withdraw\" class=\"font-bold text-sm text-gray-400 mt-3\" href=\"\">RP 100.000 MINGGU INI</p>\n                </div>\n              </div>\n            </div>\n            <div class=\"flex-grow-1 flex-auto lg:flex-1 p-5 bg-white rounded-lg shadow-lg\">\n              <div class=\"flex items-center\">\n\n                <div class=\"preloader p-4 flex mt-auto mb-auto ml-auto mr-auto\">\n                  <div class=\"loader loader-mini ease-linear rounded-full border-8 border-t-8 border-gray-200\"></div>\n                </div>\n\n                <div id=\"withdraw-card\" class=\"hidden flex flex-col flex-1\">\n                  <p class=\"-mb-2 text-gray-700\">Penarikan Bulan ini</p>\n                  <p id=\"monthly-deposit\" class=\"text-gray-800 text-4xl md:text-2xl lg:text-4xl font-bold\">Rp 80.000</p>\n                  <p id=\"weekly-deposit\" class=\"font-bold text-sm text-gray-400 mt-3\" href=\"\">RP 100.000 MINGGU INI</p>\n                </div>\n              </div>\n            </div>\n          </div>\n          <p class=\"mt-6 text-xl text-center md:text-left\">Riwayat Transaksi</p>\n          <div class=\"bg-gray-200 p-5 rounded-lg flex flex-col mt-6 md:p-8\">\n            <div class=\"flex-1 py-0 white rounded-lg\">\n              <table id=\"transaction-table\" class=\"table-auto w-full\">\n                <tbody>\n                  <tr class=\"text-left text-gray-700\">\n                    <th class=\"font-normal p-5 pr-0 pt-0\">Tanggal</th>\n                    <th class=\"font-normal pb-5 pt-0 hidden lg:table-cell\">Kode Transaksi</th>\n                    <th class=\"font-normal pb-5 pt-0\">Nominal</th>\n                    <th class=\"font-normal pb-5 pt-0 hidden lg:table-cell\">Metode</th>\n                    <th class=\"font-normal pb-5 pt-0 hidden lg:table-cell\">Jenis</th>\n                    <th class=\"font-normal pb-5 pt-0\">Status</th>\n                    <th class=\"font-normal pb-5 pt-0 justify-end\"></th>\n                  </tr>\n                </tbody>\n              </table>\n              <div class=\"preloader p-4 flex mt-auto mb-auto mx-auto justify-center\">\n                <div class=\"loader loader-mini ease-linear rounded-full border-8 border-t-8 border-gray-200\"></div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      `\n  },\n\n  async afterRender() {\n    // Remove Preloders\n    const preloaders = document.querySelectorAll('.preloader')\n    const balanceCard = document.getElementById('balance-card')\n    const depositCard = document.getElementById('deposit-card')\n    const withdrawCard = document.getElementById('withdraw-card')\n\n    this._ballance = 0\n    this._deposit = 0\n    this._weeklyDeposit = 0\n    this._withdraw = 0\n    this._weeklyWithdraw = 0\n\n    // Fetch Data\n    const responseData = await APIData.retrieveUser()\n    this._userId = responseData.id\n    const accountData = await APIData.getAkunSiswa(this._userId)\n    this._ballance = accountData.saldo\n\n    const balanceText = document.getElementById('bal')\n    const withdrawText = document.getElementById('monthly-withdraw')\n    const weekWithdrawText = document.getElementById('weekly-withdraw')\n    const depositText = document.getElementById('monthly-deposit')\n    const weekDepositText = document.getElementById('weekly-deposit')\n    balanceText.innerHTML = `Rp ${StringFormater.convertToCashFormat(this._ballance)}`\n\n    await this._renderTable()\n    // Render Cards\n    withdrawText.innerHTML = `Rp ${StringFormater.convertToCashFormat(this._withdraw)}`\n    weekWithdrawText.innerHTML = `RP ${StringFormater.convertToCashFormat(this._weeklyWithdraw)} MINGGU INI`\n    depositText.innerHTML = `Rp ${StringFormater.convertToCashFormat(this._deposit)}`\n    weekDepositText.innerHTML = `RP ${StringFormater.convertToCashFormat(this._weeklyDeposit)} MINGGU INI`\n\n    // Remove Preloaders\n    balanceCard.classList.remove('hidden')\n    depositCard.classList.remove('hidden')\n    withdrawCard.classList.remove('hidden')\n    preloaders.forEach((preloader) => {\n      preloader.remove()\n    })\n  },\n\n  async _renderTable() {\n    const tableElement = document.getElementById('transaction-table')\n    const tableBody = tableElement.querySelector('tbody')\n    const unsortedTransactionData = await APIData.getTransaksiSiswa(this._userId)\n    const transactionData = sortBy(unsortedTransactionData.data, ['tenggat_waktu_pembayaran.seconds']).reverse()\n\n    const transactionTemplate = (transaction) => {\n      Object.keys(transaction).forEach((key) => {\n        if (typeof transaction[key] === 'object') {\n          //\n        } else if (key === 'nominal') {\n          transaction[key] = StringFormater.convertToCashFormat(transaction[key])\n        } else {\n          transaction[key] = transaction[key].toString().toUpperCase()\n        }\n      })\n\n      const timeStamp = new Date(transaction.tenggat_waktu_pembayaran.seconds * 1000)\n      const jenisTransaksi = transaction.jenis_transaksi\n      const timeLeft = new Date()\n      timeLeft.setDate(timeStamp.getDate())\n      timeStamp.setDate(timeStamp.getDate() - 1)\n      const transactionDate = timeStamp.toLocaleDateString('id-ID', { year: 'numeric', month: 'long', day: 'numeric' })\n      const transactionDateMini = timeStamp.toLocaleDateString('id-ID')\n\n      if (transaction.status_transaksi.toLowerCase() === 'selesai') {\n        if (timeStamp.getMonth() === new Date().getMonth()) {\n          if (jenisTransaksi.toLowerCase() === 'pemasukan') {\n            this._withdraw += StringFormater.convertCasttoInt(transaction.nominal)\n            if (DateFormater.isDateInThisWeek(timeStamp)) {\n              this._weeklyWithdraw += StringFormater.convertCasttoInt(transaction.nominal)\n            }\n          } else {\n            this._deposit += StringFormater.convertCasttoInt(transaction.nominal)\n            if (DateFormater.isDateInThisWeek(timeStamp)) {\n              this._weeklyDeposit += StringFormater.convertCasttoInt(transaction.nominal)\n            }\n          }\n        }\n      }\n\n      // Classes\n      const nominalColor = (jenis) => {\n        if (jenis.toLowerCase() === 'pemasukan') return 'text-success'\n        return 'text-failed'\n      }\n\n      const statusColor = (status) => {\n        if (status.toLowerCase() === 'selesai') return 'bg-primary text-white'\n        return 'bg-primaryDisable text-primary'\n      }\n\n      const renderStatusIcon = (status) => {\n        if (status.toLowerCase() === 'selesai') return 'M5 13l4 4L19 7'\n        return 'M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z'\n      }\n\n      const getStatusAction = (status) => {\n        if (status.toLowerCase() === 'selesai') {\n          return `\n          <button id=\"show-transaction-button-${transaction.id_transaksi}\"\n            class=\"flex w-full flex-1 px-4 py-3 text-sm font-normal text-gray-700 hover:bg-gray-100 hover:text-gray-900\"\n            role=\"menuitem\">\n            <i class=\"text-primary flex\">\n            <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"></path><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\"></path></svg>\n            </i>\n            <p class=\"flex ml-2 leading-relaxed\">Lihat Transaksi</p>\n          </button>`\n        }\n        return `\n        <button id=\"show-transaction-button-${transaction.id_transaksi}\"\n            class=\"flex w-full flex-1 px-4 py-3 text-sm font-normal text-gray-700 hover:bg-gray-100 hover:text-gray-900\"\n            role=\"menuitem\">\n            <i class=\"text-primary flex\">\n            <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4\"></path></svg>\n            </i>\n            <p class=\"flex ml-2 leading-relaxed\">Bayar Transaksi</p>\n          </button>\n          <button id=\"cancel-transaction-button-${transaction.id_transaksi}\"\n            class=\"flex w-full flex-1 px-4 py-3 text-sm font-normal text-gray-700 hover:bg-gray-100 hover:text-gray-900\"\n            role=\"menuitem\">\n            <i class=\"text-primary flex\"><svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                  d=\"M6 18L18 6M6 6l12 12\"></path>\n              </svg></i>\n            <p class=\"flex ml-2 leading-relaxed\">Batalkan Transaksi</p>\n          </button>`\n      }\n\n      const _cancelButtonInit = (cancelButton) => {\n        cancelButton.addEventListener('click', async (event) => {\n          event.stopPropagation()\n          const result = await Swal.fire({\n            icon: 'warning',\n            text: 'Tekan pilihan untuk mengkonfirmasi',\n            title: 'Batalkan transaksi?',\n            showCancelButton: true,\n            confirmButtonText: 'Batalkan',\n            cancelButtonText: 'Jangan',\n            showLoaderOnConfirm: true,\n            preConfirm: async () => {\n              try {\n                await APIData.deleteTransaksiSiswa(transaction.id_transaksi)\n              } catch (error) {\n                Swal.showValidationMessage(\n                  `Request failed: ${error}`,\n                )\n              }\n            },\n            customClass: {\n              popup: 'popup-sweetalert',\n              confirmButton: 'btn-sweetalert bg-success',\n              cancelButton: 'btn-sweetalert bg-failed',\n            },\n            buttonsStyling: false,\n          })\n\n          if (result.isConfirmed) {\n            this._renderTable()\n          }\n        })\n        return true\n      }\n\n      const _showTransactionModalInit = async (showButton) => {\n        const dataSiswa = await APIData.getDataSiswa(transaction.nisn)\n        showButton.addEventListener('click', () => {\n          if (transaction.metode_pembayaran.toLowerCase() === 'daring' && transaction.status_transaksi.toLowerCase() === 'pembayaran') {\n            snap.pay(transaction.token.toLowerCase(), {\n              onSuccess: async (result) => {\n              /* You may add your own implementation here */\n                console.log(result)\n                const response = await APIData.updateTransaction(transaction.id_transaksi, {\n                  status_transaksi: 'selesai',\n                })\n                console.log(response)\n                window.dispatchEvent(new HashChangeEvent('hashchange'))\n              },\n              onPending() {\n                /* You may add your own implementation here */\n                // window.location.hash = '#'\n              },\n              onClose() {\n                //\n              },\n            })\n            return true\n          }\n\n          ModalInitializer.init({\n            title: 'Transaksi',\n            content:\n            `<div class=\"px-10 py-6\">\n              <div id=\"modal-content\">\n                <p class=\"mt-2 mb-1\">Kode Transaksi</p>\n                <div class=\"flex flex-row\">\n                  <p id=\"id-transaksi\" class=\"my-2 text-3xl select-all font-bold\">${transaction.id_transaksi}</p>\n                  <button role=\"button\" id=\"copy-button\" class=\"w-max text-primary ml-2 font-light p-2\">\n                  <svg class=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3\"></path></svg>\n                  </button>\n                </div>\n                <p class=\"mb-2 text-gray-800\">Nama Siswa</p>\n                <input name=\"Nama\" disabled value=\"${dataSiswa.nama} (${transaction.nisn})\"\n                  class=\"mb-2 block px-5 py-3 rounded-lg w-full bg-gray-200 text-gray-500\">\n                  <p class=\"mb-2 text-gray-800\">Nominal</p>\n                <input name=\"Nominal\" disabled value=\"${transaction.nominal}\"\n                  class=\"mb-2 block px-5 py-3 rounded-lg w-full bg-gray-200 text-gray-500\">\n                <div class=\"flex flex-col md:flex-row md:gap-4\">\n                  <div class=\"flex flex-1 flex-col\">\n                  <p class=\"mb-2 text-gray-800\">Jenis Transaksi</p>\n                  <input name=\"Jenis Transaksi\" disabled value=\"${transaction.jenis_transaksi}\"\n                    class=\"mb-2 block px-5 py-3 rounded-lg w-full bg-gray-200 text-gray-500\">\n                  </div>\n                  <div class=\"flex flex-1 flex-col\">\n                  <p class=\"mb-2 text-gray-800\">Metode Pembayaran</p>\n                    <input name=\"Metode Pembayaran\" disabled value=\"${transaction.metode_pembayaran}\"\n                      class=\"mb-2 block px-5 py-3 rounded-lg w-full bg-gray-200 text-gray-500\">\n                  </div>\n                </div>\n              </div>\n              <div class=\"flex justify-end items-center w-100 mt-4\">\n                <button role=\"button\" id=\"show-qr-button\" class=\"w-max text-primary mx-1 font-light p-2\">\n                <svg class=\"w-8 h-8\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z\"></path></svg></button>\n                <button role=\"button\" id=\"close-button\" class=\"w-max bg-primary text-white mx-1 py-3 px-8 rounded-lg disabled:opacity-50\">Tutup</button>\n              </div>\n            </div>`,\n          })\n          const modal = document.getElementById('modal-transaksi')\n          const modalContent = document.getElementById('modal-content')\n          const thisContent = modalContent.innerHTML\n          const qrContent = `<img class=\"mx-auto\" src=\"https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${transaction.id_transaksi}\"></img>`\n          const showQRButton = document.getElementById('show-qr-button')\n          const closeButton = document.getElementById('close-button')\n          const copyButton = document.getElementById('copy-button')\n          const copyText = document.getElementById('id-transaksi')\n          copyButton.addEventListener('click', () => {\n            EventHelper.copyTextToClipboard(transaction.id_transaksi)\n            copyText.focus()\n          })\n          showQRButton.addEventListener('click', (event) => {\n            event.stopPropagation()\n            if (modalContent.innerHTML === thisContent) modalContent.innerHTML = qrContent\n            else modalContent.innerHTML = thisContent\n          })\n          closeButton.addEventListener('click', () => {\n            modal.remove()\n          })\n        })\n        return true\n      }\n\n      if (transaction.status_transaksi.toLowerCase() === 'pembayaran') {\n        let delayTime = 1000\n        setInterval(async () => {\n          try {\n            const {\n              distance, hours, minutes,\n            } = DateFormater.getTimeCounter(timeLeft)\n            const counterText = `${hours} jam ${minutes} menit`\n            const counterReminder = `Transaksi ini akan automatis dibatalkan dalam <br><b class=\"flex mt-3 text-primary\">${counterText}</b>`\n            const reminderElement = document.getElementById(`reminder-element-${transaction.id_transaksi}`)\n            reminderElement.className = 'p-5 text-sm font-normal text-gray-600'\n            reminderElement.innerHTML = counterReminder\n\n            if (distance < 0) {\n              await APIData.deleteTransaksiSiswa(transaction.id_transaksi)\n              this._renderTable()\n            }\n\n            // if (distance < 0) console.log('telat bang')\n            let initialized = false\n            while (!initialized) {\n              const cancelButton = document.getElementById(`cancel-transaction-button-${transaction.id_transaksi}`)\n              initialized = _cancelButtonInit(cancelButton)\n              delayTime = 60000\n            }\n          } catch (error) {\n            // console.log('')\n          }\n        }, delayTime)\n      }\n\n      let initialized = false\n      setInterval(async () => {\n        try {\n          while (!initialized) {\n            const showButton = document.getElementById(`show-transaction-button-${transaction.id_transaksi}`)\n            // eslint-disable-next-line no-await-in-loop\n            initialized = await _showTransactionModalInit(showButton)\n          }\n        } catch (error) {\n          // console.log('')\n        }\n      }, 1000)\n\n      return /* html */`<tr class=\"font-bold text-gray-800 mb-5 hover:shadow-lg\">\n      <td class=\"hidden md:table-cell p-5 pr-0 text-gray-500 bg-white rounded-l-lg\">${transactionDate.toUpperCase()}</td>\n      <td class=\"table-cell md:hidden p-5 pr-0 text-gray-500 bg-white rounded-l-lg\">${transactionDateMini.toUpperCase()}</td>\n      <td class=\"bg-white select-all hidden lg:table-cell\">${transaction.id_transaksi}</td>\n      <td class=\"bg-white ${nominalColor(jenisTransaksi)}\">RP ${transaction.nominal}</td>\n      <td class=\"bg-white hidden lg:table-cell\">${transaction.metode_pembayaran}</td>\n      <td class=\"bg-white hidden lg:table-cell\">${jenisTransaksi}</td>\n      <td class=\"bg-white\">\n        <div class=\"ml-2 md:ml-0 text-sm ${statusColor(transaction.status_transaksi)} p-1 md:py-2 md:px-6 rounded-lg w-max\">\n        <p class=\"hidden md:inline\">${transaction.status_transaksi}</p>\n        <p class=\"inline md:hidden\"><svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2.5\" d=\"${renderStatusIcon(transaction.status_transaksi)}\"></path></svg></p>\n        </div>\n      </td>\n      <td class=\"bg-white rounded-r-lg justify-end flex p-3 pl-0\">\n        <button class=\"w-8 md:p-2 md:w-12 h-12 text-gray-700\" id=\"settings\">\n          <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n              d=\"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z\">\n            </path>\n          </svg>\n        </button>\n        <div id=\"settings-dropdown\"\n          class=\"hidden absolute mt-10 w-56 rounded-lg shadow-lg bg-white ring-1 ring-black ring-opacity-5\">\n          <div class=\"py-1\" role=\"menu\" aria-orientation=\"vertical\" aria-labelledby=\"options-menu\">\n          <p id=\"reminder-element-${transaction.id_transaksi}\"></p>\n            ${getStatusAction(transaction.status_transaksi)}\n          </div>\n        </div>\n      </td>\n    </tr>\n    <tr class=\"h-4\"></tr>`\n    }\n\n    tableBody.innerHTML = `\n      <tr class=\"text-left text-gray-700\">\n        <th class=\"font-normal p-5 pr-0 pt-0\">Tanggal</th>\n        <th class=\"font-normal pb-5 pt-0 hidden lg:table-cell\">Kode Transaksi</th>\n        <th class=\"font-normal pb-5 pt-0\">Nominal</th>\n        <th class=\"font-normal pb-5 pt-0 hidden lg:table-cell\">Metode</th>\n        <th class=\"font-normal pb-5 pt-0 hidden lg:table-cell\">Jenis</th>\n        <th class=\"font-normal pb-5 pt-0\">Status</th>\n        <th class=\"font-normal pb-5 pt-0 justify-end\"></th>\n      </tr>`\n    transactionData.forEach((transaction) => {\n      tableBody.innerHTML += transactionTemplate(transaction)\n    })\n  },\n}\n\nexport default Dashboard\n","/* eslint-disable max-len */\nimport Swal from 'sweetalert2'\nimport APIData from '../../../data/api-data'\nimport formValidation from '../../../helper/form-validation'\n\nconst Profile = {\n  async render() {\n    return /* html */`\n      <div class=\"p-4 pt-0 md:p-8 md:pt=8 lg:p-12 lg:pt-12 h-full\">\n        <div class=\"flex flex-col h-full mb-20 md:mb-0 md:max-w-screen-md lg:max-w-screen-xl mx-auto\">\n          <div class=\"text-center\">\n            <p class=\"text-xl leading-8 font-bold tracking-tight text-gray-800 md:text-2xl md:mt-2\">\n              Profil Saya\n            </p>\n          </div>\n          <div class=\"flex flex-col lg:flex-row\">\n            <div class=\"p-5 rounded-lg flex flex-row md:flex-col flex-1 md:mt-4\">\n              <div class=\"bg-gray-200 p-5 md:p-8 flex flex-1 flex-col white rounded-lg\">\n                <div class=\"preloader p-4 flex mt-auto mb-auto ml-auto mr-auto\">\n                  <div class=\"loader loader-mini ease-linear rounded-full border-8 border-t-8 border-gray-200\"></div>\n                </div>\n                <div id=\"account-form\" class=\"hidden flex flex-col gap-4\">\n                  <div class=\"mx-auto mt-4 rounded-lg\">\n                    <div class=\"flex flex-col w-48 rounded-full text-white\">\n                      <img id=\"photo-profile\" class=\"object-cover rounded-full w-full h-48 mx-auto\"\n                        alt=\"User Photo Profile\" src=\"http://ui-avatars.com/api/background=fff&color=fff\">\n                      <div id=\"change-photo\" class=\"disabled:cursor-default hidden flex flex-row\">\n                        <label for=\"file-upload\"\n                          class=\"p-3 mt-4 mr-1 ml-auto cursor-pointer w-max bg-primary text-white mx-1 rounded-lg disabled:opacity-50\">\n                          <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"\n                            xmlns=\"http://www.w3.org/2000/svg\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                              d=\"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z\">\n                            </path>\n                          </svg>\n                        </label>\n                        <input class=\"hidden\" id=\"file-upload\" type=\"file\" accept=\"image/*\">\n                        <button id=\"delete-photo\"\n                          class=\"disabled:cursor-default p-3 mt-4 mr-auto ml-1 cursor-pointer w-max bg-primary text-white mx-1 rounded-lg disabled:opacity-50\">\n                          <svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"\n                            xmlns=\"http://www.w3.org/2000/svg\">\n                            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\"\n                              d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\">\n                            </path>\n                          </svg>\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"flex-1 pt-0 rounded-lg w-full\">\n                    <div class=\"\">\n                      <p class=\"mb-2\">NISN</p>\n                      <input id=\"input-nisn\" name=\"NISN\" disabled value=\"\" type=\"text\"\n                        class=\"mb-2 block px-5 py-3 rounded-lg w-full bg-white text-gray-500\">\n                      <p class=\"mb-2 mt-4\">Email</p>\n                      <input id=\"input-email\" name=\"Email\" disabled value=\"\" type=\"email\"\n                        data-rule=\"required no-space email\"\n                        class=\"editable mb-2 block px-5 py-3 rounded-lg w-full bg-white disabled:text-gray-500\">\n                      <p class=\"mt-4\">Password</p>\n                      <input id=\"input-password\" name=\"Password\" disabled value=\"\" type=\"password\"\n                        data-rule=\"required no-space\"\n                        class=\"editable block px-5 py-3 rounded-lg w-full bg-white disabled:text-gray-500\">\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"p-5 rounded-lg flex flex-col flex-1 md:mt-4\">\n              <p class=\"mb-4 text-lg text-center md:text-left\">Informasi Siswa</p>\n              <div class=\"bg-gray-200 p-5 md:p-8 flex-col white rounded-lg\">\n                <div class=\"preloader justify-center p-4 flex mt-auto mb-auto ml-auto mr-auto\">\n                  <div class=\"loader loader-mini ease-linear rounded-full border-8 border-t-8 border-gray-200\"></div>\n                </div>\n                <div id=\"profile-form\" class=\"hidden flex flex-col\">\n                  <div class=\"flex-1 rounded-lg w-full\">\n                    <div class=\"\">\n                      <p class=\"mb-2\">Nama Lengkap</p>\n                      <input id=\"input-nama\" name=\"Nama\" disabled value=\"\" type=\"text\"\n                        class=\"mb-2 block px-5 py-3 rounded-lg w-full bg-white text-gray-500 focus:placeholder-gray-400\">\n                      <p class=\"mb-2 mt-4\">Alamat</p>\n                      <textarea id=\"input-alamat\" name=\"Alamat\" rows=\"4\" type=\"text\"\n                        class=\"disabled:resize-none mb-2 block px-5 py-3 rounded-lg w-full bg-white disabled:text-gray-500\"\n                        disabled></textarea>\n                      <p class=\"mb-2 mt-4\">Nomor Telepon</p>\n                      <input id=\"input-no_telepon\" name=\"Nomer Telepon\" data-rule=\"required no-space\" value=\"\"\n                        type=\"number\"\n                        class=\"editable text-md block px-5 py-3 rounded-lg w-full bg-white disabled:text-gray-500 focus:placeholder-gray-400\"\n                        disabled>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"flex justify-start items-center mt-4\">\n                <button id=\"edit-button\"\n                  class=\"w-max bg-primary text-white mx-1 py-3 px-8 rounded-lg disabled:opacity-50\">Edit Profil</button>\n                <button id=\"discard-button\"\n                  class=\"hidden w-max bg-failed text-white mx-1 py-3 px-8 rounded-lg disabled:opacity-50\">Batalkan</button>\n                <button id=\"confirm-button\"\n                  class=\"hidden w-max bg-success text-white mx-1 py-3 px-8 rounded-lg disabled:opacity-50\">Selesai</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      `\n  },\n\n  async afterRender() {\n    this._accountInput = ''\n    this._profileInput = ''\n    const responseData = await APIData.retrieveUser()\n    this._userId = responseData.id\n    const user = await this._getProfileData(responseData.id)\n\n    const allInputForms = document.querySelectorAll('[id^=\"input\"]')\n    const photoProfile = document.getElementById('photo-profile')\n    allInputForms.forEach((input) => {\n      const inputValue = input.id.replace('input-', '')\n      input.value = user[inputValue]\n    })\n\n    photoProfile.src = user.url_foto || `http://ui-avatars.com/api/?name=${user.nama}&background=fff`\n    this._initialize()\n  },\n\n  async _initialize() {\n    // Remove Preloders\n    const preloaders = document.querySelectorAll('.preloader')\n    const profileForm = document.getElementById('profile-form')\n    const accountForm = document.getElementById('account-form')\n\n    // Buttons\n    const editButton = document.getElementById('edit-button')\n    const discardButton = document.getElementById('discard-button')\n    const confirmButton = document.getElementById('confirm-button')\n\n    // Photos\n    let newPhoto = ''\n    const photoContainer = document.getElementById('change-photo')\n    const photoProfile = document.getElementById('photo-profile')\n    const deletePhotoButton = document.getElementById('delete-photo')\n    const photoUploadButton = document.getElementById('file-upload')\n\n    // Inputs\n    const editableForm = document.querySelectorAll('input[data-rule]')\n    const [email, password, nomorTelepon] = editableForm\n\n    // Input Temp\n    const photoProfileTemp = photoProfile.src\n    const emailTemp = email.value\n    const passwordTemp = password.value\n    const nomorTeleponTemp = nomorTelepon.value\n\n    if (photoProfileTemp.includes('ui-avatars.com')) deletePhotoButton.disabled = true\n\n    const toggleEditable = (option) => {\n      if (option) {\n        editButton.classList.add('hidden')\n        discardButton.classList.remove('hidden')\n        confirmButton.classList.remove('hidden')\n        photoContainer.classList.remove('hidden')\n      } else {\n        editButton.classList.remove('hidden')\n        discardButton.classList.add('hidden')\n        confirmButton.classList.add('hidden')\n        photoContainer.classList.add('hidden')\n      }\n    }\n\n    // Events\n    editButton.addEventListener('click', () => {\n      editableForm.forEach((input) => {\n        input.disabled = false\n        toggleEditable(true)\n      })\n    })\n\n    confirmButton.addEventListener('click', async () => {\n      const result = await Swal.fire({\n        icon: 'warning',\n        text: 'Tekan pilihan untuk mengkonfirmasi',\n        title: 'Ubah Profil?',\n        showCancelButton: true,\n        confirmButtonText: 'Ubah',\n        cancelButtonText: 'Jangan',\n        showLoaderOnConfirm: true,\n        preConfirm: async () => {\n          try {\n            await this._updateProfile(email.value, password.value, nomorTelepon.value, newPhoto, photoProfileTemp)\n          } catch (error) {\n            Swal.showValidationMessage(\n              `Request failed: ${error}`,\n            )\n          }\n        },\n        customClass: {\n          popup: 'popup-sweetalert',\n          confirmButton: 'btn-sweetalert bg-success',\n          cancelButton: 'btn-sweetalert bg-failed',\n        },\n        buttonsStyling: false,\n      })\n\n      if (result.isConfirmed) {\n        Swal.fire({\n          icon: 'success',\n          text: 'Tekan tutup untuk menutup popup',\n          title: 'Profil berhasil diubah',\n          confirmButtonText: 'Tutup',\n          customClass: {\n            popup: 'popup-sweetalert',\n            confirmButton: 'btn-sweetalert',\n          },\n          buttonsStyling: false,\n        })\n        window.dispatchEvent(new HashChangeEvent('hashchange'))\n      }\n    })\n\n    discardButton.addEventListener('click', () => {\n      const elementAlerts = document.querySelectorAll('span[id*=\"-alert\"]')\n      if (elementAlerts.length > 0) {\n        elementAlerts.forEach((element) => {\n          element.remove()\n        })\n      } else if (elementAlerts.length !== 0) {\n        elementAlerts.remove()\n      }\n      photoProfile.src = photoProfileTemp\n      email.value = emailTemp\n      password.value = passwordTemp\n      nomorTelepon.value = nomorTeleponTemp\n      if (photoProfileTemp.includes('ui-avatars.com')) deletePhotoButton.disabled = true\n\n      editableForm.forEach((input) => {\n        input.classList.remove('border-red-500', 'border-opacity-50', 'focus:border-red-500', 'border-green-500', 'border-opacity-50', 'focus:border-green-500')\n        input.disabled = true\n        toggleEditable(false)\n      })\n    })\n\n    photoUploadButton.addEventListener('change', async (event) => {\n      // eslint-disable-next-line prefer-destructuring\n      newPhoto = event.target.files[0]\n      const reader = new FileReader()\n      photoProfile.title = newPhoto.name\n\n      reader.onload = (e) => {\n        photoProfile.src = e.target.result\n      }\n      reader.readAsDataURL(newPhoto)\n      deletePhotoButton.disabled = false\n    })\n\n    deletePhotoButton.addEventListener('click', () => {\n      newPhoto = 'default'\n      photoProfile.src = `http://ui-avatars.com/api/?name=${emailTemp}&background=fff`\n      deletePhotoButton.disabled = true\n    })\n\n    formValidation.init({\n      formInputs: editableForm,\n      submitButton: confirmButton,\n      isEdit: true,\n    })\n\n    // Remove preloader\n    profileForm.classList.remove('hidden')\n    accountForm.classList.remove('hidden')\n    preloaders.forEach((preloader) => {\n      preloader.remove()\n    })\n  },\n\n  async _getProfileData(id) {\n    const profileDataArray = []\n    profileDataArray.push(await APIData.getAkunSiswa(id))\n    profileDataArray.push(await APIData.getProfilSiswa(id))\n    profileDataArray.push(await APIData.getDataSiswa(id))\n\n    const profileData = {}\n    profileDataArray.forEach((data) => {\n      Object.assign(profileData, data)\n    })\n\n    return profileData\n  },\n\n  async _updateProfile(email, password, noTelepon, newPhoto, photoProfileTemp) {\n    try {\n      const newData = {\n        email,\n        password,\n        no_telepon: noTelepon,\n        url_foto: photoProfileTemp,\n      }\n\n      if (newPhoto !== '') {\n        if (photoProfileTemp !== '' && !(photoProfileTemp.includes('ui-avatars.com'))) {\n          await APIData.deleteFile(photoProfileTemp)\n        }\n        if (newPhoto === 'default') {\n          newData.url_foto = ''\n        } else {\n          const photo = await APIData.uploadFile(newPhoto)\n          newData.url_foto = photo.url\n        }\n      }\n\n      const response = await APIData.updateAkunSiswa(this._userId, newData)\n      console.log(response)\n    } catch (error) {\n      await Swal.fire({\n        icon: 'error',\n        text: 'Silahkan tunggu sejenak dan coba kembali',\n        title: 'Terjadi kesalahan ketika memperbaharui profil',\n        confirmButtonText: 'Tutup',\n        customClass: {\n          popup: 'popup-sweetalert',\n          confirmButton: 'btn-sweetalert bg-primary',\n        },\n        buttonsStyling: false,\n      })\n    }\n  },\n}\n\nexport default Profile\n"],"sourceRoot":""}