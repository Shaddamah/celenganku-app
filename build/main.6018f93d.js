(self.webpackChunkcelenganku_app=self.webpackChunkcelenganku_app||[]).push([[959],{76315:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var a=n(77511),r=n.n(a),o=n(538),s=n.n(o),l=n(7504),i=n(15978),d=n(3078),c=n(83711),u=n(94115);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t,n,a,r,o,s){try{var l=e[o](s),i=l.value}catch(e){return void n(e)}l.done?t(i):Promise.resolve(i).then(a,r)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function s(e){p(o,a,r,s,l,"next",e)}function l(e){p(o,a,r,s,l,"throw",e)}s(void 0)}))}}const g={render:function(){return f(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",'\n        <div class="text-center">\n          <p class="text-xl leading-8 font-bold tracking-tight text-gray-800 md:text-2xl md:mt-2">\n            Celenganku\n          </p>\n        </div>\n\n        <div class="flex flex-col">\n          <div\n            class="bg-gray-200 gap-4 p-5 rounded-lg flex flex-wrap flex-col mt-4 md:p-8 md:gap-8 md:mt-6 md:flex-row">\n            <div class="flex-grow-1 flex-auto lg:flex-1 p-5 bg-primary rounded-lg shadow-primary">\n              <div class="flex items-center">\n\n                <div class="preloader p-4 flex mt-auto mb-auto ml-auto mr-auto">\n                  <div class="loader loader-mini ease-linear rounded-full border-8 border-t-8 border-gray-200"></div>\n                </div>\n\n                <div id="balance-card" class="hidden text-white flex flex-col flex-1">\n                  <p class="-mb-2">Saldo</p>\n                  <p id="bal" class="text-4xl md:text-2xl lg:text-4xl font-bold">Rp</p>\n                  <div class="flex flex-row gap-2 mt-4">\n                    <a href="#/transaction" class="w-10 h-10 p-1 bg-primaryLight text-primary font-light rounded-lg">\n                      <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\n                          d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>\n                      </svg>\n                    </a>\n                    <a href="#/report" class="w-10 h-10 p-1 bg-primaryLight text-primary font-light rounded-lg">\n                      <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\n                          d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z">\n                        </path>\n                      </svg>\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class="flex-grow-1 flex-auto lg:flex-1 p-5 bg-white rounded-lg shadow-lg">\n              <div class="flex items-center">\n\n                <div class="preloader p-4 flex mt-auto mb-auto ml-auto mr-auto">\n                  <div class="loader loader-mini ease-linear rounded-full border-8 border-t-8 border-gray-200"></div>\n                </div>\n\n                <div id="deposit-card" class="hidden flex flex-col flex-1">\n                  <p class="-mb-2 text-gray-700">Pemasukan Bulan ini</p>\n                  <p id="monthly-withdraw" class="text-gray-800 text-4xl md:text-2xl lg:text-4xl font-bold">Rp 800.000</p>\n                  <p id="weekly-withdraw" class="font-bold text-sm text-gray-400 mt-3" href="">RP 100.000 MINGGU INI</p>\n                </div>\n              </div>\n            </div>\n            <div class="flex-grow-1 flex-auto lg:flex-1 p-5 bg-white rounded-lg shadow-lg">\n              <div class="flex items-center">\n\n                <div class="preloader p-4 flex mt-auto mb-auto ml-auto mr-auto">\n                  <div class="loader loader-mini ease-linear rounded-full border-8 border-t-8 border-gray-200"></div>\n                </div>\n\n                <div id="withdraw-card" class="hidden flex flex-col flex-1">\n                  <p class="-mb-2 text-gray-700">Penarikan Bulan ini</p>\n                  <p id="monthly-deposit" class="text-gray-800 text-4xl md:text-2xl lg:text-4xl font-bold">Rp 80.000</p>\n                  <p id="weekly-deposit" class="font-bold text-sm text-gray-400 mt-3" href="">RP 100.000 MINGGU INI</p>\n                </div>\n              </div>\n            </div>\n          </div>\n          <p class="mt-6 text-xl text-center md:text-left">Riwayat Transaksi</p>\n          <div class="bg-gray-200 p-5 rounded-lg flex flex-col mt-6 md:p-8">\n            <div class="flex-1 py-0 white rounded-lg">\n              <table id="transaction-table" class="table-auto w-full">\n                <tbody>\n                <tr class="text-left text-gray-700">\n                    <th class="font-normal p-5 pr-0 pt-0">Tanggal</th>\n                    <th class="font-normal pb-5 pt-0 hidden lg:table-cell">ID Transaksi</th>\n                    <th class="font-normal pb-5 pt-0">Nominal</th>\n                    <th class="font-normal pb-5 pt-0 hidden lg:table-cell">Metode</th>\n                    <th class="font-normal pb-5 pt-0 hidden lg:table-cell">Jenis</th>\n                    <th class="font-normal pb-5 pt-0">Status</th>\n                    <th class="font-normal pb-5 pt-0 justify-end"></th>\n                  </tr>\n                </tbody>\n              </table>\n              <div class="preloader p-4 flex mt-auto mb-auto mx-auto justify-center">\n                <div class="loader loader-mini ease-linear rounded-full border-8 border-t-8 border-gray-200"></div>\n              </div>\n            </div>\n          </div>\n      ');case 1:case"end":return e.stop()}}),e)})))()},afterRender:function(){var e=this;return f(regeneratorRuntime.mark((function t(){var n,a,r,o,s,i,c,u,m,p,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=document.querySelectorAll(".preloader"),a=document.getElementById("balance-card"),r=document.getElementById("deposit-card"),o=document.getElementById("withdraw-card"),e._ballance=0,e._deposit=0,e._weeklyDeposit=0,e._withdraw=0,e._weeklyWithdraw=0,t.next=11,d.Z.retrieveUser();case 11:return s=t.sent,e._userId=s.id,t.next=15,d.Z.getAkunSiswa(e._userId);case 15:return i=t.sent,e._ballance=i.saldo,c=document.getElementById("bal"),u=document.getElementById("monthly-withdraw"),m=document.getElementById("weekly-withdraw"),p=document.getElementById("monthly-deposit"),f=document.getElementById("weekly-deposit"),c.innerHTML="Rp ".concat(l.Z.convertToCashFormat(e._ballance)),t.next=25,e._renderTable();case 25:u.innerHTML="Rp ".concat(l.Z.convertToCashFormat(e._withdraw)),m.innerHTML="RP ".concat(l.Z.convertToCashFormat(e._weeklyWithdraw)," MINGGU INI"),p.innerHTML="Rp ".concat(l.Z.convertToCashFormat(e._deposit)),f.innerHTML="RP ".concat(l.Z.convertToCashFormat(e._weeklyDeposit)," MINGGU INI"),a.classList.remove("hidden"),r.classList.remove("hidden"),o.classList.remove("hidden"),n.forEach((function(e){e.remove()}));case 33:case"end":return t.stop()}}),t)})))()},_renderTable:function(){var e=this;return f(regeneratorRuntime.mark((function t(){var n,a,o,p,g;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=document.getElementById("transaction-table"),a=n.querySelector("tbody"),t.next=4,d.Z.getTransaksiSiswa(e._userId);case 4:o=t.sent,p=r()(o.data,["tenggat_waktu_pembayaran.seconds"]).reverse(),g=function(t){Object.keys(t).forEach((function(e){"object"===m(t[e])||(t[e]="nominal"===e?l.Z.convertToCashFormat(t[e]):t[e].toString().toUpperCase())}));var n=new Date(1e3*t.tenggat_waktu_pembayaran.seconds),a=t.jenis_transaksi,r=new Date;r.setDate(n.getDate()),n.setDate(n.getDate()-1);var o=n.toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}),p=n.toLocaleDateString("id-ID");"selesai"===t.status_transaksi.toLowerCase()&&n.getMonth()===(new Date).getMonth()&&("pemasukan"===a.toLowerCase()?(e._withdraw+=l.Z.convertCasttoInt(t.nominal),i.Z.isDateInThisWeek(n)&&(e._weeklyWithdraw+=l.Z.convertCasttoInt(t.nominal))):(e._deposit+=l.Z.convertCasttoInt(t.nominal),i.Z.isDateInThisWeek(n)&&(e._weeklyDeposit+=l.Z.convertCasttoInt(t.nominal))));var g,h,v=function(n){return n.addEventListener("click",function(){var n=f(regeneratorRuntime.mark((function n(a){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.stopPropagation(),n.next=3,s().fire({icon:"warning",text:"Tekan pilihan untuk mengkonfirmasi",title:"Apakah benar ingin membatalkan transaksi?",showCancelButton:!0,confirmButtonText:"Benar",cancelButtonText:"Tidak",customClass:{popup:"popup-sweetalert",confirmButton:"btn-sweetalert bg-success",cancelButton:"btn-sweetalert bg-failed"},buttonsStyling:!1});case 3:if(!n.sent.isConfirmed){n.next=10;break}return n.next=7,d.Z.deleteTransaksiSiswa(t.id_transaksi);case 7:r=n.sent,console.log(r),e._renderTable();case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),!0},x=function(e){return e.addEventListener("click",(function(){if("daring"===t.metode_pembayaran.toLowerCase()&&"pembayaran"===t.status_transaksi.toLowerCase())return snap.pay(t.token.toLowerCase(),{onSuccess:(e=f(regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),e.next=3,d.Z.updateTransaction(t.id_transaksi,{status_transaksi:"selesai"});case 3:a=e.sent,console.log(a),window.dispatchEvent(new HashChangeEvent("hashchange"));case 6:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)}),onPending:function(){},onClose:function(){}}),!0;var e;c.Z.init({title:"Kode Transaksi",content:'<div class="px-10 py-6">\n              <div id="modal-content">\n                <p class="mt-2 mb-1">Kode Transaksi kamu adalah</p>\n                <div class="flex flex-row">\n                <p id="id-transaksi" class="my-2 text-3xl select-all font-bold">'.concat(t.id_transaksi,'</p>\n                <button role="button" id="copy-button" class="w-max text-primary ml-2 font-light p-2">\n                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"></path></svg>\n                </button>\n                </div>\n              </div>\n              <div class="flex justify-end items-center w-100 mt-4">\n                <button role="button" id="show-qr-button" class="w-max text-primary mx-1 font-light p-2">\n                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"></path></svg></button>\n                <button role="button" id="close-button" class="w-max bg-primary text-white mx-1 py-3 px-8 rounded-lg disabled:opacity-50">Tutup</button>\n              </div>\n            </div>')});var n=document.getElementById("modal-kode-transaksi"),a=document.getElementById("modal-content"),r=a.innerHTML,o='<img class="mx-auto" src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data='.concat(t.id_transaksi,'"></img>'),s=document.getElementById("show-qr-button"),l=document.getElementById("close-button"),i=document.getElementById("copy-button"),m=document.getElementById("id-transaksi");i.addEventListener("click",(function(){u.Z.copyTextToClipboard(t.id_transaksi),m.focus()})),s.addEventListener("click",(function(e){a.innerHTML===r?a.innerHTML=o:a.innerHTML=r})),l.addEventListener("click",(function(){n.remove()}))})),!0};if("pembayaran"===t.status_transaksi.toLowerCase()){var b=1e3;setInterval(f(regeneratorRuntime.mark((function n(){var a,o,s,l,c,u,m,p,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,a=i.Z.getTimeCounter(r),o=a.distance,s=a.hours,l=a.minutes,c="".concat(s," jam ").concat(l," menit"),u='Transaksi ini akan automatis dibatalkan dalam <br><b class="flex mt-3 text-primary">'.concat(c,"</b>"),(m=document.getElementById("reminder-element-".concat(t.id_transaksi))).className="p-5 text-sm font-normal text-gray-600",m.innerHTML=u,!(o<0)){n.next=11;break}return n.next=10,d.Z.deleteTransaksiSiswa(t.id_transaksi);case 10:e._renderTable();case 11:for(p=!1;!p;)f=document.getElementById("cancel-transaction-button-".concat(t.id_transaksi)),p=v(f),b=6e4;n.next=17;break;case 15:n.prev=15,n.t0=n.catch(0);case 17:case"end":return n.stop()}}),n,null,[[0,15]])}))),b)}return setInterval((function(){try{for(var e=!1;!e;){var n=document.getElementById("show-transaction-button-".concat(t.id_transaksi));e=x(n)}}catch(e){}}),1e3),'<tr class="font-bold text-gray-800 mb-5 hover:shadow-lg">\n      <td class="hidden md:table-cell p-5 pr-0 text-gray-500 bg-white rounded-l-lg">'.concat(o.toUpperCase(),'</td>\n      <td class="table-cell md:hidden p-5 pr-0 text-gray-500 bg-white rounded-l-lg">').concat(p.toUpperCase(),'</td>\n      <td class="bg-white select-all hidden lg:table-cell">').concat(t.id_transaksi,'</td>\n      <td class="bg-white ').concat((h=a,"pemasukan"===h.toLowerCase()?"text-success":"text-failed"),'">RP ').concat(t.nominal,'</td>\n      <td class="bg-white hidden lg:table-cell">').concat(t.metode_pembayaran,'</td>\n      <td class="bg-white hidden lg:table-cell">').concat(a,'</td>\n      <td class="bg-white">\n        <div class="ml-2 md:ml-0 text-sm ').concat((g=t.status_transaksi,"selesai"===g.toLowerCase()?"bg-primary text-white":"bg-primaryDisable text-primary"),' p-1 md:py-2 md:px-6 rounded-lg w-max">\n        <p class="hidden md:inline">').concat(t.status_transaksi,'</p>\n        <p class="inline md:hidden"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="').concat(function(e){return"selesai"===e.toLowerCase()?"M5 13l4 4L19 7":"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}(t.status_transaksi),'"></path></svg></p>\n        </div>\n      </td>\n      <td class="bg-white rounded-r-lg justify-end flex p-3 pl-0">\n        <button class="w-8 md:p-2 md:w-12 h-12 text-gray-700" id="settings">\n          <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\n              d="M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z">\n            </path>\n          </svg>\n        </button>\n        <div id="settings-dropdown"\n          class="hidden absolute mt-10 w-56 rounded-lg shadow-lg bg-white ring-1 ring-black ring-opacity-5">\n          <div class="py-1" role="menu" aria-orientation="vertical" aria-labelledby="options-menu">\n          <p id="reminder-element-').concat(t.id_transaksi,'"></p>\n            ').concat(function(e){return"selesai"===e.toLowerCase()?'\n          <button id="show-transaction-button-'.concat(t.id_transaksi,'"\n            class="flex w-full flex-1 px-4 py-3 text-sm font-normal text-gray-700 hover:bg-gray-100 hover:text-gray-900"\n            role="menuitem">\n            <i class="text-primary flex">\n            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>\n            </i>\n            <p class="flex ml-2 mt-1 leading-relaxed">Lihat Transaksi</p>\n          </button>'):'\n        <button id="show-transaction-button-'.concat(t.id_transaksi,'"\n            class="flex w-full flex-1 px-4 py-3 text-sm font-normal text-gray-700 hover:bg-gray-100 hover:text-gray-900"\n            role="menuitem">\n            <i class="text-primary flex">\n            <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"></path></svg>\n            </i>\n            <p class="flex ml-2 mt-1 leading-relaxed">Bayar Transaksi</p>\n          </button>\n          <button id="cancel-transaction-button-').concat(t.id_transaksi,'"\n            class="flex w-full flex-1 px-4 py-3 text-sm font-normal text-gray-700 hover:bg-gray-100 hover:text-gray-900"\n            role="menuitem">\n            <i class="text-primary flex"><svg class="w-8 h-8" fill="none" stroke="currentColor"\n                viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\n                  d="M6 18L18 6M6 6l12 12"></path>\n              </svg></i>\n            <p class="flex ml-2 mt-1 leading-relaxed">Batalkan Transaksi</p>\n          </button>')}(t.status_transaksi),'\n          </div>\n        </div>\n      </td>\n    </tr>\n    <tr class="h-4"></tr>')},a.innerHTML='\n      <tr class="text-left text-gray-700">\n        <th class="font-normal p-5 pr-0 pt-0">Tanggal</th>\n        <th class="font-normal pb-5 pt-0 hidden lg:table-cell">ID Transaksi</th>\n        <th class="font-normal pb-5 pt-0">Nominal</th>\n        <th class="font-normal pb-5 pt-0 hidden lg:table-cell">Metode</th>\n        <th class="font-normal pb-5 pt-0 hidden lg:table-cell">Jenis</th>\n        <th class="font-normal pb-5 pt-0">Status</th>\n        <th class="font-normal pb-5 pt-0 justify-end"></th>\n      </tr>',p.forEach((function(e){a.innerHTML+=g(e)}));case 9:case"end":return t.stop()}}),t)})))()}}},96025:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var a=n(538),r=n.n(a),o=n(3078),s=n(82502);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],a=!0,r=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function d(e,t,n,a,r,o,s){try{var l=e[o](s),i=l.value}catch(e){return void n(e)}l.done?t(i):Promise.resolve(i).then(a,r)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function s(e){d(o,a,r,s,l,"next",e)}function l(e){d(o,a,r,s,l,"throw",e)}s(void 0)}))}}const u={render:function(){return c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",'\n    <div class="text-center">\n    <p class="text-xl leading-8 font-bold tracking-tight text-gray-800 md:text-2xl md:mt-2">\n      Profil Saya\n    </p>\n  </div>\n  <div class="flex flex-col lg:flex-row">\n    <div class="p-5 rounded-lg flex flex-row md:flex-col flex-1 md:mt-4">\n      <div class="bg-gray-200 p-5 md:p-8 flex flex-1 flex-col white rounded-lg">\n      <div class="preloader p-4 flex mt-auto mb-auto ml-auto mr-auto">\n        <div class="loader loader-mini ease-linear rounded-full border-8 border-t-8 border-gray-200"></div>\n        </div>\n        <div id="account-form" class="hidden flex flex-col gap-4">\n          <div class="mx-auto mt-4 rounded-lg">\n            <div class="flex flex-col w-48 rounded-full text-white">\n              <img id="photo-profile" class="object-cover rounded-full w-full h-48 mx-auto" alt="User Photo Profile" src="http://ui-avatars.com/api/background=fff&color=fff">\n              <div id="change-photo" class="disabled:cursor-default hidden flex flex-row">\n              <label for="file-upload" class="p-3 mt-4 mr-1 ml-auto cursor-pointer w-max bg-primary text-white mx-1 rounded-lg disabled:opacity-50">\n              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg>\n              </label>\n              <input class="hidden" id="file-upload" type="file" accept="image/*">\n              <button id="delete-photo" class="disabled:cursor-default p-3 mt-4 mr-auto ml-1 cursor-pointer w-max bg-primary text-white mx-1 rounded-lg disabled:opacity-50">\n              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>\n              </button>\n              </div>\n            </div>\n          </div>\n          <div class="flex-1 pt-0 rounded-lg w-full">\n        <div class="">\n        <p class="mb-2">NISN</p>\n        <input id="input-nisn" name="NISN" disabled value="" type="text" class="mb-2 block px-5 py-3 rounded-lg w-full bg-white text-gray-500">\n        <p class="mb-2 mt-4">Email</p>\n        <input id="input-email" name="Email" disabled value="" type="email" data-rule="required no-space email" class="editable mb-2 block px-5 py-3 rounded-lg w-full bg-white disabled:text-gray-500">\n        <p class="mt-4">Password</p>\n        <input id="input-password" name="Password" disabled value="" type="password" data-rule="required no-space" class="editable block px-5 py-3 rounded-lg w-full bg-white disabled:text-gray-500">\n        </div>\n    </div>\n      </div>\n    </div>\n    </div>\n    <div class="p-5 rounded-lg flex flex-col flex-1 md:mt-4">\n    <p class="mb-4 text-lg text-center md:text-left">Informasi Siswa</p>\n      <div class="bg-gray-200 p-5 md:p-8 flex-col white rounded-lg">\n      <div class="preloader justify-center p-4 flex mt-auto mb-auto ml-auto mr-auto">\n        <div class="loader loader-mini ease-linear rounded-full border-8 border-t-8 border-gray-200"></div>\n        </div>\n        <div id="profile-form" class="hidden flex flex-col">\n          <div class="flex-1 rounded-lg w-full">\n            <div class="">\n              <p class="mb-2">Nama Lengkap</p>\n              <input id="input-nama" name="Nama" disabled value="" type="text" class="mb-2 block px-5 py-3 rounded-lg w-full bg-white text-gray-500 focus:placeholder-gray-400">\n              <p class="mb-2 mt-4">Alamat</p>\n              <textarea id="input-alamat" name="Alamat" rows="4" type="text" class="disabled:resize-none mb-2 block px-5 py-3 rounded-lg w-full bg-white disabled:text-gray-500" disabled></textarea>\n              <p class="mb-2 mt-4">Nomor Telepon</p>\n              <input id="input-no_telepon" name="Nomer Telepon" data-rule="required no-space" value="" type="number" class="editable text-md block px-5 py-3 rounded-lg w-full bg-white disabled:text-gray-500 focus:placeholder-gray-400" disabled>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="flex justify-start items-center mt-4">\n            <button id="edit-button" class="w-max bg-primary text-white mx-1 py-3 px-8 rounded-lg disabled:opacity-50">Edit Profil</button>\n            <button id="discard-button" class="hidden w-max bg-failed text-white mx-1 py-3 px-8 rounded-lg disabled:opacity-50">Batalkan</button>\n            <button id="confirm-button" class="hidden w-max bg-success text-white mx-1 py-3 px-8 rounded-lg disabled:opacity-50">Selesai</button>\n            </div>\n    </div>\n  </div>\n      ');case 1:case"end":return e.stop()}}),e)})))()},afterRender:function(){var e=this;return c(regeneratorRuntime.mark((function t(){var n,a,r,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e._accountInput="",e._profileInput="",t.next=4,o.Z.retrieveUser();case 4:return n=t.sent,e._userId=n.id,t.next=8,e._getProfileData(n.id);case 8:a=t.sent,r=document.querySelectorAll('[id^="input"]'),s=document.getElementById("photo-profile"),r.forEach((function(e){var t=e.id.replace("input-","");e.value=a[t]})),s.src=a.url_foto||"http://ui-avatars.com/api/?name=".concat(a.nama,"&background=fff"),e._initialize();case 14:case"end":return t.stop()}}),t)})))()},_initialize:function(){var e=this;return c(regeneratorRuntime.mark((function t(){var n,a,o,i,d,u,m,p,f,g,h,v,x,b,w,y,k,_,I,L,B;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=document.querySelectorAll(".preloader"),a=document.getElementById("profile-form"),o=document.getElementById("account-form"),i=document.getElementById("edit-button"),d=document.getElementById("discard-button"),u=document.getElementById("confirm-button"),m="",p=document.getElementById("change-photo"),f=document.getElementById("photo-profile"),g=document.getElementById("delete-photo"),h=document.getElementById("file-upload"),v=document.querySelectorAll("input[data-rule]"),x=l(v,3),b=x[0],w=x[1],y=x[2],k=f.src,_=b.value,I=w.value,L=y.value,k.includes("ui-avatars.com")&&(g.disabled=!0),B=function(e){e?(i.classList.add("hidden"),d.classList.remove("hidden"),u.classList.remove("hidden"),p.classList.remove("hidden")):(i.classList.remove("hidden"),d.classList.add("hidden"),u.classList.add("hidden"),p.classList.add("hidden"))},i.addEventListener("click",(function(){v.forEach((function(e){e.disabled=!1,B(!0)}))})),u.addEventListener("click",c(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=!0,w.value===I){t.next=7;break}return n=!1,t.next=5,r().fire({icon:"warning",text:"Tekan pilihan untuk mengkonfirmasi",title:"Apakah benar ingin mengubah password?",showCancelButton:!0,confirmButtonText:"Benar",cancelButtonText:"Tidak",customClass:{popup:"popup-sweetalert",confirmButton:"btn-sweetalert bg-success",cancelButton:"btn-sweetalert bg-failed"},buttonsStyling:!1});case 5:t.sent.isConfirmed&&(n=!0);case 7:n&&(e._updateProfile(b.value,w.value,y.value,m,k),v.forEach((function(e){e.disabled=!0,B(!1)})));case 8:case"end":return t.stop()}}),t)})))),d.addEventListener("click",(function(){var e=document.querySelectorAll('span[id*="-alert"]');e.length>0?e.forEach((function(e){e.remove()})):0!==e.length&&e.remove(),f.src=k,b.value=_,w.value=I,y.value=L,k.includes("ui-avatars.com")&&(g.disabled=!0),v.forEach((function(e){e.classList.remove("border-red-500","border-opacity-50","focus:border-red-500","border-green-500","border-opacity-50","focus:border-green-500"),e.disabled=!0,B(!1)}))})),h.addEventListener("change",function(){var e=c(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m=t.target.files[0],n=new FileReader,f.title=m.name,n.onload=function(e){f.src=e.target.result},n.readAsDataURL(m),g.disabled=!1;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),g.addEventListener("click",(function(){m="default",f.src="http://ui-avatars.com/api/?name=".concat(_,"&background=fff"),g.disabled=!0})),s.Z.init({formInputs:v,submitButton:u,isEdit:!0}),a.classList.remove("hidden"),o.classList.remove("hidden"),n.forEach((function(e){e.remove()}));case 28:case"end":return t.stop()}}),t)})))()},_getProfileData:function(e){return c(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.t0=n,t.next=4,o.Z.getAkunSiswa(e);case 4:return t.t1=t.sent,t.t0.push.call(t.t0,t.t1),t.t2=n,t.next=9,o.Z.getProfilSiswa(e);case 9:return t.t3=t.sent,t.t2.push.call(t.t2,t.t3),t.t4=n,t.next=14,o.Z.getDataSiswa(e);case 14:return t.t5=t.sent,t.t4.push.call(t.t4,t.t5),a={},n.forEach((function(e){Object.assign(a,e)})),t.abrupt("return",a);case 19:case"end":return t.stop()}}),t)})))()},_updateProfile:function(e,t,n,a,r){var s=this;return c(regeneratorRuntime.mark((function l(){var i,d,c;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(i={email:e,password:t,no_telepon:n,url_foto:r},""===a){l.next=13;break}if(""===r||r.includes("ui-avatars.com")){l.next=5;break}return l.next=5,o.Z.deleteFile(r);case 5:if("default"!==a){l.next=9;break}i.url_foto="",l.next=13;break;case 9:return l.next=11,o.Z.uploadFile(a);case 11:d=l.sent,i.url_foto=d.url;case 13:return l.next=15,o.Z.updateAkunSiswa(s._userId,i);case 15:c=l.sent,console.log(c);case 17:case"end":return l.stop()}}),l)})))()}}}}]);
//# sourceMappingURL=main.6018f93d.js.map