{"version":3,"sources":["webpack://celenganku-app/./src/scripts/routes/slugparser.js","webpack://celenganku-app/./src/scripts/routes/urlparser.js","webpack://celenganku-app/./src/scripts/utils/modal-initializer.js","webpack://celenganku-app/./src/scripts/utils/swregister.js","webpack://celenganku-app/./src/scripts/routes/routes.js","webpack://celenganku-app/./src/scripts/utils/sidebar-init.js","webpack://celenganku-app/./src/scripts/utils/appbar-init.js","webpack://celenganku-app/./src/scripts/views/app.js"],"names":["SlugParser","parseToSlug","text","toLowerCase","replace","parseToText","slug","words","split","i","length","word","charAt","toUpperCase","slice","join","UrlParser","parseActiveUrlWithCombiner","url","window","location","hash","splitedUrl","this","_urlSplitter","_urlCombiner","parseActiveUrlWithoutCombiner","urlsSplits","resource","id","verb","ModalInitializer","init","title","content","bg","_title","_content","_bgColor","isAlreadyInitialized","document","getElementById","classList","remove","_render","modalElement","createElement","className","innerHTML","body","appendChild","_createEvent","modalInputs","querySelectorAll","formSubmit","querySelector","formValidation","formInputs","submitButton","onmousedown","event","target","indexOf","thisModalElement","add","style","setProperty","addEventListener","formButtons","forEach","button","ServiceWorkerRegister","navigator","workbox","Workbox","register","console","log","Routes","login","Home","Admin","user","Dashboard","Transaction","Report","ReportPreview","Profile","admin","AdminDashboard","DataList","DataReport","Sidebar","sidebar","_sidebar","highlight","page","navLinks","navElement","includes","substring","setState","state","role","Appbar","appbar","_appbar","setHeader","name","avatar","App","_user","_initialAppShell","constructor","_loadPreloader","APIData","getUserInformation","userInformation","nama","url_foto","prepend","render","afterRender","userDataArray","push","data","Object","assign"],"mappings":"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","file":"main.e4317507.js","sourcesContent":["const SlugParser = {\n  parseToSlug(text) {\n    return text\n      .toLowerCase()\n      .replace(/[^\\w ]+/g, '')\n      .replace(/ +/g, '-')\n  },\n\n  parseToText(slug) {\n    const words = slug.split('-')\n    for (let i = 0; i < words.length; i++) {\n      const word = words[i]\n      words[i] = word.charAt(0).toUpperCase() + word.slice(1)\n    }\n    return words.join(' ')\n  },\n}\n\nexport default SlugParser\n","const UrlParser = {\n  parseActiveUrlWithCombiner() {\n    const url = window.location.hash.slice(1).toLowerCase()\n    const splitedUrl = this._urlSplitter(url)\n    return this._urlCombiner(splitedUrl)\n  },\n\n  parseActiveUrlWithoutCombiner() {\n    const url = window.location.hash.slice(1).toLowerCase()\n    return this._urlSplitter(url)\n  },\n\n  _urlSplitter(url) {\n    const urlsSplits = url.split('/')\n    return {\n      resource: urlsSplits[1] || null,\n      id: urlsSplits[2] || null,\n      verb: urlsSplits[3] || null,\n    }\n  },\n\n  _urlCombiner(splitedUrl) {\n    return (\n      (splitedUrl.resource ? `/${splitedUrl.resource}` : '/')\n      + (splitedUrl.id ? '/:id' : '')\n      + (splitedUrl.verb ? `/${splitedUrl.verb}` : '')\n    )\n  },\n}\n\nexport default UrlParser\n","import formValidation from '../helper/form-validation'\nimport SlugParser from '../routes/slugparser'\n\nconst ModalInitializer = {\n  async init({ title, content, bg = 'bg-primary' }) {\n    this._title = title\n    this._content = content\n    this._bgColor = bg\n\n    const isAlreadyInitialized = document.getElementById(`modal-${SlugParser.parseToSlug(this._title)}`)\n    if (isAlreadyInitialized) {\n      isAlreadyInitialized.classList.remove('hidden')\n    } else {\n      await this._render()\n    }\n  },\n\n  async _render() {\n    const modalElement = document.createElement('div')\n    modalElement.id = `modal-${SlugParser.parseToSlug(this._title)}`\n    modalElement.className = 'modal h-screen w-full fixed left-0 top-0 flex justify-center items-center bg-black bg-opacity-50 z-50'\n    modalElement.innerHTML = `<div class=\"animate__animated animate__zoomIn animate__faster rounded-lg shadow-lg bg-white ring-1 ring-black ring-opacity-5 w-5/6 md:w-1/2 lg:w-1/3\">\n          <!-- modal header -->\n          <div class=\"${this._bgColor} text-white rounded-t-lg px-6 py-4 flex justify-between items-center\">\n            <h3 class=\"text-md\">${this._title}</h3>\n          </div>\n          ${this._content}\n        </div>`\n    document.body.appendChild(modalElement)\n    await this._createEvent()\n\n    const modalInputs = modalElement.querySelectorAll('input')\n    const formSubmit = modalElement.querySelector('button[data-submit]')\n\n    if (typeof (formSubmit) !== 'undefined' && formSubmit != null) {\n      await formValidation.init({\n        formInputs: modalInputs,\n        submitButton: formSubmit,\n      })\n    }\n  },\n\n  async _createEvent() {\n    window.onmousedown = (event) => {\n      if (event.target.id.indexOf(`modal-${SlugParser.parseToSlug(this._title)}`) >= 0) {\n        const thisModalElement = document.querySelector(`#modal-${SlugParser.parseToSlug(this._title)} div`)\n        thisModalElement.classList.remove('animate__zoomIn')\n        thisModalElement.classList.add('animate__zoomOut')\n        thisModalElement.style.setProperty('--animate-duration', '0.25s')\n\n        thisModalElement.addEventListener('animationend', () => {\n          event.target.remove()\n        })\n      }\n    }\n    const formButtons = document.querySelectorAll(`button[data-modal=\"${this._title}\"], a[data-modal=\"${this._title}\"]`)\n    formButtons.forEach((button) => {\n      button.addEventListener('click', () => {\n        document.getElementById(`modal-${SlugParser.parseToSlug(this._title)}`).remove()\n      })\n    })\n  },\n}\n\nexport default ModalInitializer\n","import { Workbox } from 'workbox-window'\n\nconst ServiceWorkerRegister = async () => {\n  if ('serviceWorker' in navigator) {\n    const workbox = new Workbox('./sw.js')\n    await workbox.register()\n    return\n  }\n  console.log('Service worker not supported in this browser')\n}\n\nexport default ServiceWorkerRegister\n","import Home from '../views/pages/home'\nimport Dashboard from '../views/pages/user/dashboard'\nimport Transaction from '../views/pages/user/transaction'\nimport Profile from '../views/pages/user/profile'\nimport Report from '../views/pages/user/report'\nimport ReportPreview from '../views/pages/user/report-preview'\nimport Admin from '../views/pages/admin'\nimport DataReport from '../views/pages/admin/data-report'\nimport DataList from '../views/pages/admin/datalist'\nimport AdminDashboard from '../views/pages/admin/dashboard'\n\nconst Routes = {\n  login: {\n    '/': Home,\n    '/admin': Admin,\n  },\n  user: {\n    '/': Dashboard,\n    '/transaction': Transaction,\n    '/report': Report,\n    '/report/:id': ReportPreview,\n    '/profile': Profile,\n  },\n  admin: {\n    '/': AdminDashboard,\n    '/list': DataList,\n    '/list/:id': DataList,\n    '/report/:id': DataReport,\n  },\n}\n\nexport default Routes\n","const Sidebar = {\n  async init({\n    sidebar,\n  }) {\n    this._sidebar = sidebar\n    // this.highlight('/')\n  },\n\n  async highlight(page) {\n    const navLinks = this._sidebar.querySelectorAll('a.btn-nav')\n    if (page === '/') page = ''\n    navLinks.forEach((navElement) => {\n      if (page === '') navLinks[0].classList.add('active')\n      else if (page.includes(navElement.hash.substring(1))) {\n        navLinks[0].classList.remove('active')\n        navElement.classList.add('active')\n      } else {\n        navElement.classList.remove('active')\n      }\n    })\n  },\n\n  setState(state = true, role = 'user') {\n    if (state) {\n      this._sidebar.classList.remove('hidden')\n      this._sidebar.role = role\n    } else {\n      this._sidebar.classList.add('hidden')\n    }\n  },\n}\n\nexport default Sidebar\n","const Appbar = {\n  async init({ appbar }) {\n    this._appbar = appbar\n  },\n\n  setHeader(name, avatar) {\n    this._appbar.name = name\n    this._appbar.avatar = avatar\n  },\n\n  setState(state = true, role = 'user') {\n    if (state) {\n      this._appbar.classList.remove('hidden')\n      this._appbar.role = role\n    } else {\n      this._appbar.classList.add('hidden')\n    }\n  },\n}\n\nexport default Appbar\n","/* eslint-disable default-case */\nimport UrlParser from '../routes/urlparser'\nimport Routes from '../routes/routes'\nimport Sidebar from '../utils/sidebar-init'\nimport Appbar from '../utils/appbar-init'\nimport APIData from '../data/api-data'\n\n// Components\nimport '../components/sidebar'\nimport '../components/appbar'\n\nclass App {\n  constructor({ content, sidebar, appbar }) {\n    this._content = content\n    this._sidebar = sidebar\n    this._appbar = appbar\n    this._user = null\n    this._initialAppShell()\n  }\n\n  _initialAppShell() {\n    Sidebar.init({\n      sidebar: this._sidebar,\n    })\n    Appbar.init({\n      appbar: this._appbar,\n    })\n  }\n\n  async loadPage() {\n    this._content.innerHTML = this.constructor._loadPreloader()\n    this._user = await APIData.retrieveUser()\n    const { id, role } = this._user\n\n    let url = UrlParser.parseActiveUrlWithCombiner()\n    if (url === '') url = '/'\n\n    try {\n      let page\n      if (role !== 'unauthorized') {\n        switch (role) {\n          case 'user':\n            page = await Routes.user[url]\n            break\n          case 'admin':\n            page = await Routes.admin[url]\n            break\n        }\n        Sidebar.setState(true, role)\n        Appbar.setState(true, role)\n\n        const userInformation = await this.constructor.getUserInformation(id, role)\n        Appbar.setHeader(userInformation.nama, userInformation.url_foto)\n      } else {\n        page = await Routes.login[url]\n        Sidebar.setState(false)\n        Appbar.setState(false)\n      }\n\n      document.body.prepend(this._sidebar)\n      this._content.innerHTML = await page.render()\n      Sidebar.highlight(url)\n      page.afterRender()\n    } catch (err) {\n      console.log(err)\n      window.location.hash = ''\n    }\n  }\n\n  static async getUserInformation(id, role) {\n    const userDataArray = []\n    switch (role) {\n      case 'user':\n        userDataArray.push(await APIData.getDataSiswa(id))\n        userDataArray.push(await APIData.getProfilSiswa(id))\n        break\n      case 'admin':\n        userDataArray.push(await APIData.getAdmin(id))\n        break\n    }\n    const userInformation = {}\n    userDataArray.forEach((data) => {\n      Object.assign(userInformation, data)\n    })\n    return userInformation\n  }\n\n  static _loadPageNotFound() {\n    return `\n    <div id='preloader' class=\"flex h-full w-full m-auto\">\n          <div class=\"flex m-auto\">\n            <h2>Halaman Tidak ada</h2>\n          </div>\n        </div>\n      `\n  }\n\n  static _loadPreloader() {\n    return `\n        <div id='preloader' class=\"flex h-full w-full m-auto\">\n          <div class=\"flex m-auto\">\n            <div class=\"loader ease-linear rounded-full border-8 border-t-8 border-gray-200\"></div>\n          </div>\n        </div>\n      `\n  }\n}\n\nexport default App\n"],"sourceRoot":""}