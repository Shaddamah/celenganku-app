"use strict";(function(){function e(e,o){let r=[],t="";o=e.readBits([8,16,16][o]);for(let t=0;t<o;t++){let o=e.readBits(8);r.push(o)}try{t+=decodeURIComponent(r.map((e=>`%${("0"+e.toString(16)).substr(-2)}`)).join(""))}catch(e){}return{bytes:r,text:t}}function o(o,r){o=new A(o);r=9>=r?0:26>=r?1:2;let t={text:"",bytes:[],chunks:[]};for(;4<=o.available();){var s=o.readBits(4);if(s===X.Terminator)return t;if(s===X.ECI)0===o.readBits(1)?t.chunks.push({type:z.ECI,assignmentNumber:o.readBits(7)}):0===o.readBits(1)?t.chunks.push({type:z.ECI,assignmentNumber:o.readBits(14)}):0===o.readBits(1)?t.chunks.push({type:z.ECI,assignmentNumber:o.readBits(21)}):t.chunks.push({type:z.ECI,assignmentNumber:-1});else if(s===X.Numeric){var c=o;s=[];for(var d="",l=c.readBits([10,12,14][r]);3<=l;){var a=c.readBits(10);if(1e3<=a)throw Error("Invalid numeric value above 999");var n=Math.floor(a/100),B=Math.floor(a/10)%10;a%=10;s.push(48+n,48+B,48+a);d+=n.toString()+B.toString()+a.toString();l-=3}if(2===l){l=c.readBits(7);if(100<=l)throw Error("Invalid numeric value above 99");c=Math.floor(l/10);l%=10;s.push(48+c,48+l);d+=c.toString()+l.toString()}else if(1===l){c=c.readBits(4);if(10<=c)throw Error("Invalid numeric value above 9");s.push(48+c);d+=c.toString()}s={bytes:s,text:d};t.text+=s.text;t.bytes.push(...s.bytes);t.chunks.push({type:z.Numeric,text:s.text})}else if(s===X.Alphanumeric){c=o;s=[];d="";for(l=c.readBits([9,11,13][r]);2<=l;)B=c.readBits(11),n=Math.floor(B/45),B%=45,s.push(E[n].charCodeAt(0),E[B].charCodeAt(0)),d+=E[n]+E[B],l-=2;1===l&&(c=c.readBits(6),s.push(E[c].charCodeAt(0)),d+=E[c]);s={bytes:s,text:d};t.text+=s.text;t.bytes.push(...s.bytes);t.chunks.push({type:z.Alphanumeric,text:s.text})}else if(s===X.Byte)s=e(o,r),t.text+=s.text,t.bytes.push(...s.bytes),t.chunks.push({type:z.Byte,bytes:s.bytes,text:s.text});else if(s===X.Kanji){d=o;s=[];c=d.readBits([8,10,12][r]);for(l=0;l<c;l++)n=d.readBits(13),n=Math.floor(n/192)<<8|n%192,n=7936>n?n+33088:n+49472,s.push(n>>8,n&255);d=new TextDecoder("shift-jis").decode(Uint8Array.from(s));s={bytes:s,text:d};t.text+=s.text;t.bytes.push(...s.bytes);t.chunks.push({type:z.Kanji,bytes:s.bytes,text:s.text})}}if(0===o.available()||0===o.readBits(o.available()))return t}function r(e,o){return e^o}function t(e,o,r,t){o.degree()<r.degree()&&([o,r]=[r,o]);let s=e.zero;for(var c=e.one;r.degree()>=t/2;){var d=o;let t=s;o=r;s=c;if(o.isZero())return null;r=d;c=e.zero;d=o.getCoefficient(o.degree());for(d=e.inverse(d);r.degree()>=o.degree()&&!r.isZero();){let t=r.degree()-o.degree(),s=e.multiply(r.getCoefficient(r.degree()),d);c=c.addOrSubtract(e.buildMonomial(t,s));r=r.addOrSubtract(o.multiplyByMonomial(t,s))}c=c.multiplyPoly(s).addOrSubtract(t);if(r.degree()>=o.degree())return null}t=c.getCoefficient(0);if(0===t)return null;e=e.inverse(t);return[c.multiply(e),r.multiply(e)]}function s(e,o){let s=new Uint8ClampedArray(e.length);s.set(e);e=new O(285,256,0);var c=new S(e,s),d=new Uint8ClampedArray(o),l=!1;for(var a=0;a<o;a++){var n=c.evaluateAt(e.exp(a+e.generatorBase));d[d.length-1-a]=n;0!==n&&(l=!0)}if(!l)return s;c=new S(e,d);c=t(e,e.buildMonomial(o,1),c,o);if(null===c)return null;o=c[0];a=o.degree();if(1===a)o=[o.getCoefficient(1)];else{d=Array(a);l=0;for(n=1;n<e.size&&l<a;n++)0===o.evaluateAt(n)&&(d[l]=e.inverse(n),l++);o=l!==a?null:d}if(null==o)return null;c=c[1];d=o.length;l=Array(d);for(a=0;a<d;a++){n=e.inverse(o[a]);let t=1;for(let s=0;s<d;s++)a!==s&&(t=e.multiply(t,r(1,e.multiply(o[s],n))));l[a]=e.multiply(c.evaluateAt(n),e.inverse(t));0!==e.generatorBase&&(l[a]=e.multiply(l[a],n))}c=l;for(d=0;d<o.length;d++){l=s.length-1-e.log(o[d]);if(0>l)return null;s[l]^=c[d]}return s}function c(e,o){e^=o;for(o=0;e;)o++,e&=e-1;return o}function d(e,o){return o<<1|e}function l(e,o,r){r=T[r.dataMask];let t=e.height;var s=17+4*o.versionNumber,c=I.createEmpty(s,s);c.setRegion(0,0,9,9,!0);c.setRegion(s-8,0,8,9,!0);c.setRegion(0,s-8,9,8,!0);for(var d of o.alignmentPatternCenters)for(var l of o.alignmentPatternCenters)6===d&&6===l||6===d&&l===s-7||d===s-7&&6===l||c.setRegion(d-2,l-2,5,5,!0);c.setRegion(6,9,1,s-17,!0);c.setRegion(9,6,s-17,1,!0);6<o.versionNumber&&(c.setRegion(s-11,0,3,6,!0),c.setRegion(0,s-11,6,3,!0));o=c;d=[];s=l=0;c=!0;for(let a=t-1;0<a;a-=2){6===a&&a--;for(let n=0;n<t;n++){let B=c?t-1-n:n;for(let t=0;2>t;t++){let c=a-t;if(!o.get(c,B)){s++;let o=e.get(c,B);r({y:B,x:c})&&(o=!o);l=l<<1|o;8===s&&(d.push(l),l=s=0)}}}c=!c}return d}function a(e){var o=e.height,r=Math.floor((o-17)/4);if(6>=r)return R[r-1];r=0;for(var t=5;0<=t;t--)for(var s=o-9;s>=o-11;s--)r=d(e.get(s,t),r);t=0;for(s=5;0<=s;s--)for(let r=o-9;r>=o-11;r--)t=d(e.get(s,r),t);e=Infinity;let l;for(let s of R){if(s.infoBits===r||s.infoBits===t)return s;o=c(r,s.infoBits);o<e&&(l=s,e=o);o=c(t,s.infoBits);o<e&&(l=s,e=o)}if(3>=e)return l}function n(e){let o=0;for(var r=0;8>=r;r++)6!==r&&(o=d(e.get(r,8),o));for(r=7;0<=r;r--)6!==r&&(o=d(e.get(8,r),o));var t=e.height;r=0;for(var s=t-1;s>=t-7;s--)r=d(e.get(8,s),r);for(s=t-8;s<t;s++)r=d(e.get(s,8),r);e=Infinity;t=null;for(let{bits:d,formatInfo:l}of U){if(d===o||d===r)return l;s=c(o,d);s<e&&(t=l,e=s);o!==r&&(s=c(r,d),s<e&&(t=l,e=s))}return 3>=e?t:null}function B(e,o,r){let t=o.errorCorrectionLevels[r],s=[],c=0;t.ecBlocks.forEach((e=>{for(let o=0;o<e.numBlocks;o++)s.push({numDataCodewords:e.dataCodewordsPerBlock,codewords:[]}),c+=e.dataCodewordsPerBlock+t.ecCodewordsPerBlock}));if(e.length<c)return null;e=e.slice(0,c);o=t.ecBlocks[0].dataCodewordsPerBlock;for(r=0;r<o;r++)for(var d of s)d.codewords.push(e.shift());if(1<t.ecBlocks.length)for(d=t.ecBlocks[0].numBlocks,o=t.ecBlocks[1].numBlocks,r=0;r<o;r++)s[d+r].codewords.push(e.shift());for(;0<e.length;)for(let o of s)o.codewords.push(e.shift());return s}function k(e){let r=a(e);if(!r)return null;var t=n(e);if(!t)return null;e=l(e,r,t);var c=B(e,r,t.errorCorrectionLevel);if(!c)return null;t=c.reduce(((e,o)=>e+o.numDataCodewords),0);t=new Uint8ClampedArray(t);e=0;for(let o of c){c=s(o.codewords,o.codewords.length-o.numDataCodewords);if(!c)return null;for(let r=0;r<o.numDataCodewords;r++)t[e++]=c[r]}try{return o(t,r.versionNumber)}catch(e){return null}}function i(e,o,r,t){var s=e.x-o.x+r.x-t.x;let c=e.y-o.y+r.y-t.y;if(0===s&&0===c)return{a11:o.x-e.x,a12:o.y-e.y,a13:0,a21:r.x-o.x,a22:r.y-o.y,a23:0,a31:e.x,a32:e.y,a33:1};{let l=o.x-r.x;var d=t.x-r.x;let a=o.y-r.y,n=t.y-r.y;r=l*n-d*a;d=(s*n-d*c)/r;s=(l*c-s*a)/r;return{a11:o.x-e.x+d*o.x,a12:o.y-e.y+d*o.y,a13:d,a21:t.x-e.x+s*t.x,a22:t.y-e.y+s*t.y,a23:s,a31:e.x,a32:e.y,a33:1}}}function u(e,o,r,t){e=i(e,o,r,t);return{a11:e.a22*e.a33-e.a23*e.a32,a12:e.a13*e.a32-e.a12*e.a33,a13:e.a12*e.a23-e.a13*e.a22,a21:e.a23*e.a31-e.a21*e.a33,a22:e.a11*e.a33-e.a13*e.a31,a23:e.a13*e.a21-e.a11*e.a23,a31:e.a21*e.a32-e.a22*e.a31,a32:e.a12*e.a31-e.a11*e.a32,a33:e.a11*e.a22-e.a12*e.a21}}function m(e,o){var r=u({x:3.5,y:3.5},{x:o.dimension-3.5,y:3.5},{x:o.dimension-6.5,y:o.dimension-6.5},{x:3.5,y:o.dimension-3.5}),t=i(o.topLeft,o.topRight,o.alignmentPattern,o.bottomLeft),s=t.a11*r.a11+t.a21*r.a12+t.a31*r.a13,c=t.a12*r.a11+t.a22*r.a12+t.a32*r.a13,d=t.a13*r.a11+t.a23*r.a12+t.a33*r.a13,l=t.a11*r.a21+t.a21*r.a22+t.a31*r.a23,a=t.a12*r.a21+t.a22*r.a22+t.a32*r.a23,n=t.a13*r.a21+t.a23*r.a22+t.a33*r.a23,B=t.a11*r.a31+t.a21*r.a32+t.a31*r.a33,k=t.a12*r.a31+t.a22*r.a32+t.a32*r.a33,m=t.a13*r.a31+t.a23*r.a32+t.a33*r.a33;r=I.createEmpty(o.dimension,o.dimension);t=(e,o)=>{const r=d*e+n*o+m;return{x:(s*e+l*o+B)/r,y:(c*e+a*o+k)/r}};for(let s=0;s<o.dimension;s++)for(let c=0;c<o.dimension;c++){let o=t(c+.5,s+.5);r.set(c,s,e.get(Math.floor(o.x),Math.floor(o.y)))}return{matrix:r,mappingFunction:t}}function C(e){return e.reduce(((e,o)=>e+o))}function w(e,o,r){let t=F(e,o),s=F(o,r),c=F(e,r),d,l,a;s>=t&&s>=c?[d,l,a]=[o,e,r]:c>=s&&c>=t?[d,l,a]=[e,o,r]:[d,l,a]=[e,r,o];0>(a.x-l.x)*(d.y-l.y)-(a.y-l.y)*(d.x-l.x)&&([d,a]=[a,d]);return{bottomLeft:d,topLeft:l,topRight:a}}function P(e,o,r,t){t=(C(h(e,r,t,5))/7+C(h(e,o,t,5))/7+C(h(r,e,t,5))/7+C(h(o,e,t,5))/7)/4;if(1>t)throw Error("Invalid module size");o=Math.round(F(e,o)/t);e=Math.round(F(e,r)/t);e=Math.floor((o+e)/2)+7;switch(e%4){case 0:e++;break;case 2:e--}return{dimension:e,moduleSize:t}}function f(e,o,r,t){let s=[{x:Math.floor(e.x),y:Math.floor(e.y)}];var c=Math.abs(o.y-e.y)>Math.abs(o.x-e.x);if(c){var d=Math.floor(e.y);var l=Math.floor(e.x);e=Math.floor(o.y);o=Math.floor(o.x)}else d=Math.floor(e.x),l=Math.floor(e.y),e=Math.floor(o.x),o=Math.floor(o.y);let a=Math.abs(e-d),n=Math.abs(o-l),B=Math.floor(-a/2),k=d<e?1:-1,i=l<o?1:-1,u=!0;for(let m=d,C=l;m!==e+k;m+=k){d=c?C:m;l=c?m:C;if(r.get(d,l)!==u&&(u=!u,s.push({x:d,y:l}),s.length===t+1))break;B+=n;if(0<B){if(C===o)break;C+=i;B-=a}}r=[];for(c=0;c<t;c++)s[c]&&s[c+1]?r.push(F(s[c],s[c+1])):r.push(0);return r}function h(e,o,r,t){let s=o.y-e.y,c=o.x-e.x;o=f(e,o,r,Math.ceil(t/2));e=f(e,{x:e.x-c,y:e.y-s},r,Math.ceil(t/2));r=o.shift()+e.shift()-1;return e.concat(r).concat(...o)}function b(e,o){let r=C(e)/C(o),t=0;o.forEach(((o,s)=>{t+=Math.pow(e[s]-o*r,2)}));return{averageSize:r,error:t}}function g(e,o,r){try{let t=h(e,{x:-1,y:e.y},r,o.length),s=h(e,{x:e.x,y:-1},r,o.length),c=h(e,{x:Math.max(0,e.x-e.y)-1,y:Math.max(0,e.y-e.x)-1},r,o.length),d=h(e,{x:Math.min(r.width,e.x+e.y)+1,y:Math.min(r.height,e.y+e.x)+1},r,o.length),l=b(t,o),a=b(s,o),n=b(c,o),B=b(d,o),k=(l.averageSize+a.averageSize+n.averageSize+B.averageSize)/4;return Math.sqrt(l.error*l.error+a.error*a.error+n.error*n.error+B.error*B.error)+(Math.pow(l.averageSize-k,2)+Math.pow(a.averageSize-k,2)+Math.pow(n.averageSize-k,2)+Math.pow(B.averageSize-k,2))/k}catch(e){return Infinity}}function v(e,o){for(var r=Math.round(o.x);e.get(r,Math.round(o.y));)r--;for(var t=Math.round(o.x);e.get(t,Math.round(o.y));)t++;r=(r+t)/2;for(t=Math.round(o.y);e.get(Math.round(r),t);)t--;for(o=Math.round(o.y);e.get(Math.round(r),o);)o++;return{x:r,y:(t+o)/2}}function y(e){var o=[],r=[],t=[],s=[];for(let n=0;n<=e.height;n++){var c=0;let B=!1,k=[0,0,0,0,0];for(let o=-1;o<=e.width;o++){var d=e.get(o,n);if(d===B)c++;else{k=[k[1],k[2],k[3],k[4],c];c=1;B=d;var l=C(k)/7;l=Math.abs(k[0]-l)<l&&Math.abs(k[1]-l)<l&&Math.abs(k[2]-3*l)<3*l&&Math.abs(k[3]-l)<l&&Math.abs(k[4]-l)<l&&!d;var a=C(k.slice(-3))/3;d=Math.abs(k[2]-a)<a&&Math.abs(k[3]-a)<a&&Math.abs(k[4]-a)<a&&d;if(l){let e=o-k[3]-k[4],t=e-k[2];l={startX:t,endX:e,y:n};a=r.filter((o=>t>=o.bottom.startX&&t<=o.bottom.endX||e>=o.bottom.startX&&t<=o.bottom.endX||t<=o.bottom.startX&&e>=o.bottom.endX&&1.5>k[2]/(o.bottom.endX-o.bottom.startX)&&.5<k[2]/(o.bottom.endX-o.bottom.startX)));0<a.length?a[0].bottom=l:r.push({top:l,bottom:l})}if(d){let e=o-k[4],r=e-k[3];d={startX:r,y:n,endX:e};l=s.filter((o=>r>=o.bottom.startX&&r<=o.bottom.endX||e>=o.bottom.startX&&r<=o.bottom.endX||r<=o.bottom.startX&&e>=o.bottom.endX&&1.5>k[2]/(o.bottom.endX-o.bottom.startX)&&.5<k[2]/(o.bottom.endX-o.bottom.startX)));0<l.length?l[0].bottom=d:s.push({top:d,bottom:d})}}}o.push(...r.filter((e=>e.bottom.y!==n&&2<=e.bottom.y-e.top.y)));r=r.filter((e=>e.bottom.y===n));t.push(...s.filter((e=>e.bottom.y!==n)));s=s.filter((e=>e.bottom.y===n))}o.push(...r.filter((e=>2<=e.bottom.y-e.top.y)));t.push(...s);o=o.filter((e=>2<=e.bottom.y-e.top.y)).map((o=>{const r=(o.top.startX+o.top.endX+o.bottom.startX+o.bottom.endX)/4,t=(o.top.y+o.bottom.y+1)/2;if(e.get(Math.round(r),Math.round(t)))return o=[o.top.endX-o.top.startX,o.bottom.endX-o.bottom.startX,o.bottom.y-o.top.y+1],o=C(o)/o.length,{score:g({x:Math.round(r),y:Math.round(t)},[1,1,3,1,1],e),x:r,y:t,size:o}})).filter((e=>!!e)).sort(((e,o)=>e.score-o.score)).map(((e,o,r)=>{if(4<o)return null;r=r.filter(((e,r)=>o!==r)).map((o=>({x:o.x,y:o.y,score:o.score+Math.pow(o.size-e.size,2)/e.size,size:o.size}))).sort(((e,o)=>e.score-o.score));if(2>r.length)return null;const t=e.score+r[0].score+r[1].score;return{points:[e].concat(r.slice(0,2)),score:t}})).filter((e=>!!e)).sort(((e,o)=>e.score-o.score));if(0===o.length)return null;let{topRight:n,topLeft:B,bottomLeft:k}=w(o[0].points[0],o[0].points[1],o[0].points[2]);r=p(e,t,n,B,k);o=[];r&&o.push({alignmentPattern:{x:r.alignmentPattern.x,y:r.alignmentPattern.y},bottomLeft:{x:k.x,y:k.y},dimension:r.dimension,topLeft:{x:B.x,y:B.y},topRight:{x:n.x,y:n.y}});r=v(e,n);s=v(e,B);c=v(e,k);(t=p(e,t,r,s,c))&&o.push({alignmentPattern:{x:t.alignmentPattern.x,y:t.alignmentPattern.y},bottomLeft:{x:c.x,y:c.y},topLeft:{x:s.x,y:s.y},topRight:{x:r.x,y:r.y},dimension:t.dimension});return 0===o.length?null:o}function p(e,o,r,t,s){let c,d;try{({dimension:c,moduleSize:d}=P(t,r,s,e))}catch(e){return null}var l=r.x-t.x+s.x,a=r.y-t.y+s.y;r=(F(t,s)+F(t,r))/2/d;s=1-3/r;let n={x:t.x+s*(l-t.x),y:t.y+s*(a-t.y)};o=o.map((o=>{const r=(o.top.startX+o.top.endX+o.bottom.startX+o.bottom.endX)/4,t=(o.top.y+o.bottom.y+1)/2;if(e.get(Math.floor(r),Math.floor(t)))return C([o.top.endX-o.top.startX,o.bottom.endX-o.bottom.startX,o.bottom.y-o.top.y+1]),o=g({x:Math.floor(r),y:Math.floor(t)},[1,1,1],e)+F({x:r,y:t},n),{x:r,y:t,score:o}})).filter((e=>!!e)).sort(((e,o)=>e.score-o.score));return{alignmentPattern:15<=r&&o.length?o[0]:n,dimension:c}}function x(e){var o=y(e);if(!o)return null;for(let s of o){o=m(e,s);var r=o.matrix;if(null==r)r=null;else{var t=k(r);if(t)r=t;else{for(t=0;t<r.width;t++)for(let e=t+1;e<r.height;e++)r.get(t,e)!==r.get(e,t)&&(r.set(t,e,!r.get(t,e)),r.set(e,t,!r.get(e,t)));r=k(r)}}if(r)return{binaryData:r.bytes,data:r.text,chunks:r.chunks,location:{topRightCorner:o.mappingFunction(s.dimension,0),topLeftCorner:o.mappingFunction(0,0),bottomRightCorner:o.mappingFunction(s.dimension,s.dimension),bottomLeftCorner:o.mappingFunction(0,s.dimension),topRightFinderPattern:s.topRight,topLeftFinderPattern:s.topLeft,bottomLeftFinderPattern:s.bottomLeft,bottomRightAlignmentPattern:s.alignmentPattern},matrix:o.matrix}}return null}function M(e,o){Object.keys(o).forEach((r=>{e[r]=o[r]}))}function L(e,o,r,t={}){let s=Object.create(null);M(s,j);M(s,t);t="onlyInvert"===s.inversionAttempts||"invertFirst"===s.inversionAttempts;var c="attemptBoth"===s.inversionAttempts||t;var d=s.greyScaleWeights,l=s.canOverwriteImage,a=o*r;if(e.length!==4*a)throw Error("Malformed data passed to binarizer.");var n=0;if(l){var B=new Uint8ClampedArray(e.buffer,n,a);n+=a}B=new N(o,r,B);if(d.useIntegerApproximation)for(var k=0;k<r;k++)for(var i=0;i<o;i++){var u=4*(k*o+i);B.set(i,k,d.red*e[u]+d.green*e[u+1]+d.blue*e[u+2]+128>>8)}else for(k=0;k<r;k++)for(i=0;i<o;i++)u=4*(k*o+i),B.set(i,k,d.red*e[u]+d.green*e[u+1]+d.blue*e[u+2]);d=Math.ceil(o/8);k=Math.ceil(r/8);i=d*k;if(l){var m=new Uint8ClampedArray(e.buffer,n,i);n+=i}m=new N(d,k,m);for(i=0;i<k;i++)for(u=0;u<d;u++){var C=Infinity,w=0;for(var P=0;8>P;P++)for(let e=0;8>e;e++){let o=B.get(8*u+e,8*i+P);C=Math.min(C,o);w=Math.max(w,o)}P=(C+w)/2;P=Math.min(255,1.1*P);24>=w-C&&(P=C/2,0<i&&0<u&&(w=(m.get(u,i-1)+2*m.get(u-1,i)+m.get(u-1,i-1))/4,C<w&&(P=w)));m.set(u,i,P)}l?(i=new Uint8ClampedArray(e.buffer,n,a),n+=a,i=new I(i,o)):i=I.createEmpty(o,r);u=null;c&&(l?(e=new Uint8ClampedArray(e.buffer,n,a),u=new I(e,o)):u=I.createEmpty(o,r));for(o=0;o<k;o++)for(e=0;e<d;e++){r=d-3;r=2>e?2:e>r?r:e;l=k-3;l=2>o?2:o>l?l:o;a=0;for(n=-2;2>=n;n++)for(C=-2;2>=C;C++)a+=m.get(r+n,l+C);r=a/25;for(l=0;8>l;l++)for(a=0;8>a;a++)n=8*e+l,C=8*o+a,w=B.get(n,C),i.set(n,C,w<=r),c&&u.set(n,C,!(w<=r))}c=c?{binarized:i,inverted:u}:{binarized:i};let{binarized:f,inverted:h}=c;(c=x(t?h:f))||"attemptBoth"!==s.inversionAttempts&&"invertFirst"!==s.inversionAttempts||(c=x(t?f:h));return c}class I{constructor(e,o){this.width=o;this.height=e.length/o;this.data=e}static createEmpty(e,o){return new I(new Uint8ClampedArray(e*o),e)}get(e,o){return 0>e||e>=this.width||0>o||o>=this.height?!1:!!this.data[o*this.width+e]}set(e,o,r){this.data[o*this.width+e]=r?1:0}setRegion(e,o,r,t,s){for(let c=o;c<o+t;c++)for(let o=e;o<e+r;o++)this.set(o,c,!!s)}}class N{constructor(e,o,r){this.width=e;e*=o;if(r&&r.length!==e)throw Error("Wrong buffer size");this.data=r||new Uint8ClampedArray(e)}get(e,o){return this.data[o*this.width+e]}set(e,o,r){this.data[o*this.width+e]=r}}class A{constructor(e){this.bitOffset=this.byteOffset=0;this.bytes=e}readBits(e){if(1>e||32<e||e>this.available())throw Error("Cannot read "+e.toString()+" bits");var o=0;if(0<this.bitOffset){o=8-this.bitOffset;var r=e<o?e:o;o-=r;o=(this.bytes[this.byteOffset]&255>>8-r<<o)>>o;e-=r;this.bitOffset+=r;8===this.bitOffset&&(this.bitOffset=0,this.byteOffset++)}if(0<e){for(;8<=e;)o=o<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,e-=8;0<e&&(r=8-e,o=o<<e|(this.bytes[this.byteOffset]&255>>r<<r)>>r,this.bitOffset+=e)}return o}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var z;(function(e){e.Numeric="numeric";e.Alphanumeric="alphanumeric";e.Byte="byte";e.Kanji="kanji";e.ECI="eci"})(z||(z={}));var X;(function(e){e[e.Terminator=0]="Terminator";e[e.Numeric=1]="Numeric";e[e.Alphanumeric=2]="Alphanumeric";e[e.Byte=4]="Byte";e[e.Kanji=8]="Kanji";e[e.ECI=7]="ECI"})(X||(X={}));let E="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".split("");class S{constructor(e,o){if(0===o.length)throw Error("No coefficients.");this.field=e;let r=o.length;if(1<r&&0===o[0]){let t=1;for(;t<r&&0===o[t];)t++;if(t===r)this.coefficients=e.zero.coefficients;else for(this.coefficients=new Uint8ClampedArray(r-t),e=0;e<this.coefficients.length;e++)this.coefficients[e]=o[t+e]}else this.coefficients=o}degree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}addOrSubtract(e){if(this.isZero())return e;if(e.isZero())return this;let o=this.coefficients;e=e.coefficients;o.length>e.length&&([o,e]=[e,o]);let r=new Uint8ClampedArray(e.length),t=e.length-o.length;for(var s=0;s<t;s++)r[s]=e[s];for(s=t;s<e.length;s++)r[s]=o[s-t]^e[s];return new S(this.field,r)}multiply(e){if(0===e)return this.field.zero;if(1===e)return this;let o=this.coefficients.length,r=new Uint8ClampedArray(o);for(let t=0;t<o;t++)r[t]=this.field.multiply(this.coefficients[t],e);return new S(this.field,r)}multiplyPoly(e){if(this.isZero()||e.isZero())return this.field.zero;let o=this.coefficients,r=o.length;e=e.coefficients;let t=e.length,s=new Uint8ClampedArray(r+t-1);for(let l=0;l<r;l++){let r=o[l];for(let o=0;o<t;o++){var c=l+o,d=this.field.multiply(r,e[o]);s[c]=s[l+o]^d}}return new S(this.field,s)}multiplyByMonomial(e,o){if(0>e)throw Error("Invalid degree less than 0");if(0===o)return this.field.zero;let r=this.coefficients.length;e=new Uint8ClampedArray(r+e);for(let t=0;t<r;t++)e[t]=this.field.multiply(this.coefficients[t],o);return new S(this.field,e)}evaluateAt(e){let o=0;if(0===e)return this.getCoefficient(0);let t=this.coefficients.length;if(1===e)return this.coefficients.forEach((e=>{o^=e})),o;o=this.coefficients[0];for(let s=1;s<t;s++)o=r(this.field.multiply(e,o),this.coefficients[s]);return o}}class O{constructor(e,o,r){this.primitive=e;this.size=o;this.generatorBase=r;this.expTable=Array(this.size);this.logTable=Array(this.size);e=1;for(o=0;o<this.size;o++)this.expTable[o]=e,e*=2,e>=this.size&&(e=(e^this.primitive)&this.size-1);for(e=0;e<this.size-1;e++)this.logTable[this.expTable[e]]=e;this.zero=new S(this,Uint8ClampedArray.from([0]));this.one=new S(this,Uint8ClampedArray.from([1]))}multiply(e,o){return 0===e||0===o?0:this.expTable[(this.logTable[e]+this.logTable[o])%(this.size-1)]}inverse(e){if(0===e)throw Error("Can't invert 0");return this.expTable[this.size-this.logTable[e]-1]}buildMonomial(e,o){if(0>e)throw Error("Invalid monomial degree less than 0");if(0===o)return this.zero;e=new Uint8ClampedArray(e+1);e[0]=o;return new S(this,e)}log(e){if(0===e)throw Error("Can't take log(0)");return this.logTable[e]}exp(e){return this.expTable[e]}}let R=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}],U=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],T=[e=>0===(e.y+e.x)%2,e=>0===e.y%2,e=>0===e.x%3,e=>0===(e.y+e.x)%3,e=>0===(Math.floor(e.y/2)+Math.floor(e.x/3))%2,e=>0===e.x*e.y%2+e.x*e.y%3,e=>0===(e.y*e.x%2+e.y*e.x%3)%2,e=>0===((e.y+e.x)%2+e.y*e.x%3)%2],F=(e,o)=>Math.sqrt(Math.pow(o.x-e.x,2)+Math.pow(o.y-e.y,2)),j={inversionAttempts:"attemptBoth",greyScaleWeights:{red:.2126,green:.7152,blue:.0722,useIntegerApproximation:!1},canOverwriteImage:!0};L.default=L;let Z="dontInvert",D={red:77,green:150,blue:29,useIntegerApproximation:!0};self.onmessage=e=>{let o=e.data.data;switch(e.data.type){case"decode":e=L(o.data,o.width,o.height,{inversionAttempts:Z,greyScaleWeights:D});self.postMessage({type:"qrResult",data:e?e.data:null});break;case"grayscaleWeights":D.red=o.red;D.green=o.green;D.blue=o.blue;D.useIntegerApproximation=o.useIntegerApproximation;break;case"inversionMode":switch(o){case"original":Z="dontInvert";break;case"invert":Z="onlyInvert";break;case"both":Z="attemptBoth";break;default:throw Error("Invalid inversion mode")}break;case"close":self.close()}}})();